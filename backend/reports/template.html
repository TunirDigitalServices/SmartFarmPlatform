<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pdf Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

  </head>
 <style>
    body{
      padding: 22px 18px;
      text-align: center;      
      zoom: 0.55;
      font-size: 22px; 
      line-height: 24px; 
      font-family: 'Lato', 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;
      color: #000;
    }
    table, th, td {
      margin: 0;
      padding: 0;
} 

.intro{
  padding: 32px;
  margin: 16px ;
  border: 2px solid black;
  border-radius: 10px;
}

.intro p {
  font-size: 34px;
  font-weight: bold;
  line-height: 34px; 
  
}

.sommaire{
  padding-left: 24px;
  margin: 2px 0px 2px 14px;
}
ol{
  text-align: left;
  font-size: 55px;
  padding-top: 24px;
  margin-top: 44px;
}
li{
  padding-top: 32px;
  margin-top: 2rem;
  list-style:decimal;
}
ul li {

  list-style: none;
  padding-top: 32px;
  margin-top: 12px;

}

canvas{

width:1000px !important;
height:450px !important;

}
  </style>
  
  <body>
    <div class="head">
      <div style="margin: 0px 12px;padding: 0px 8px; background-color: #fff;">
        <img width="100%" height="100%"  src='https://i.postimg.cc/brLbMCc4/header.png'alt='header'/>
        <br /> <br />
        <img width="100%" height="700px" style="border-radius: 15px;" src="https://i.postimg.cc/zBkTCR4p/report-header.png" alt="image">
        <br /> <br />   <br /> <br />  <br /> <br />  <br /> <br />  <br /> <br />  <br /> <br />     
        <h1 style="font-weight: 800;text-align: center; padding-bottom:6px ;font-size: 60px;color: #009CB3;">Rapport hebdomadaire</h1>
              {{#each products}}
              <h2 style="font-weight: 500;color: #333;text-align: center;font-size: 45px;">Du: <span style="font-weight: bold;"> {{this.startDate}} </span>au: <span style="font-weight: bold;">{{this.endDate}}</span></h2> <br/> 
              {{/each}}
              {{#each products}}
              <h2 style="font-size: 36px;">Préparé pour : <span style="text-transform: capitalize;">{{this.nameUser}}</span>  </h2> <br/> 
              <h2 style="font-size: 36px;">Préparé par SMART FARM </h2> <br/> 
              {{/each}}

            </div>
          </div>
          <img width="100%" height="100%" src="https://i.postimg.cc/XqpYb2dm/footer.png" alt="image">
        <br /> <br /><br /> <br /> <br />    <br /> <br /><br /> <br /> <br />              <br /> <br /><br /> <br /> <br />    <br /> <br /><br /> <br /> <br /> 
        <br /> <br /><br /> <br /> <br />    <br /> <br /><br /> <br /> <br /> 


          <br />
          <img width="100%" height="100%"  src='https://i.postimg.cc/brLbMCc4/header.png'alt='header'/>
          <div class="intro">
            <p>Dans ce rapport hebdomadaire, vous trouvez les données et les
              recommandations nécessaires pour une irrigation précise de votre culture,
              grâce au capteur S.sensor dans votre champ.</p>
          </div>
          <div class="sommaire">
            <ol>
              <li>Information du client</li>
              <li>Données collectées du capteur S.sensor</li>
              <li>Prévisions météorologiques</li>
              <ul>
               <li><i class="material-icons" style="font-size:50px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xe819;</i> Précipitations</li> 
               <li><i class="material-icons" style="font-size:50px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xe1ff;</i> Température</li> 
               <li><i class="material-icons" style="font-size:50px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xefd8;</i> Vitesse du vent</li> 
  
              </ul>
              <li>Bilan hydrique</li>
              <li>Recommandations</li>
            </ol>

          </div>
          <br /> <br /> <br />  <br /><br /> <br /> <br />  <br />
          <img width="100%" height="100%" src="https://i.postimg.cc/XqpYb2dm/footer.png" alt="image">
           <br /> 
           <img width="100%" height="100%"  src='https://i.postimg.cc/brLbMCc4/header.png'alt='header'/>
          <h2 style="font-weight: 800;color: #333;text-align: left;padding: 4px;"> <i class="material-icons" style="font-size:48px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xe7fd;</i>1. Information client :</h2>
          <table  class="table text-center table-bordered">
            <tr>
              <th scope="col">Nom et prénom</th> 
              {{#each products}}
              <td>{{this.nameUser}}</td>
              {{/each}}
              <th scope="col">Tél</th>
              {{#each products}}
              <td>{{this.phone}}</td>
              {{/each}}
              <th scope="col">Ferme</th>
              {{#each products}}
              <td>{{this.nameFarm}}</td>
              {{/each}}
              <th scope="col">Terrain</th>
              {{#each products}}
              <td>{{this.nameField}}</td>
              {{/each}}
            </tr>
            <tr>
              <th scope="col">Culture</th>
              {{#each products}}
              <td>{{this.crop}}</td>
              {{/each}}
              <th scope="col">Varieté de Culture</th>
              {{#each products}}
              <td>{{this.cropVariety}}</td>
              {{/each}}
              <th scope="col">Date de Plantation</th>
              {{#each products}}
              <td>{{plantDate}}</td>
              {{/each}}
              <th scope="col">Type du Sol</th>
              <td>-</td>
             
            </tr>
          </table>
          <table class="table text-center table-bordered">
            <tr>
              <th scope="col">Type système d'irrigation</th>
              {{#each products}}
              <td style="text-transform: capitalize;">{{this.irrigtype}}</td>
              {{/each}}
              <th scope="col">Débit du système (l/h)</th>
              {{#each products}}
              <td>{{this.flowrate}}</td>
              {{/each}}
              <th scope="col">Nbr de goutteur</th>
              {{#each products}}
              <td>{{this.drippers}}</td>
              {{/each}}
              <th scope="col">Débit de la source d'eau (l/h)</th>
              {{#each products}}
              <td>{{this.pumpFlow}}</td>
              {{/each}}
            </tr>

          </table>
          <table class="table text-center table-bordered">
            <tr>
              <th scope="col">Capteur</th>
              {{#each products}}
              <td>{{this.codeSensor}}</td>
              {{/each}}
              <th scope="col">Latitude</th>
              {{#each products}}
              <td>{{this.Lat}}</td>
              {{/each}}
              <th scope="col">Longitude</th>
              {{#each products}}
              <td>{{this.Lon}}</td>
              {{/each}}
            </tr>

          </table>
        <hr />
        <h2 style="font-weight: 800;color: #333;text-align: left;padding: 4px;">2.Données collectées du S.sensor  :</h2>
        <h3 style="font-weight: 800;color: #333;text-align: left;"> <i class="material-icons" style="font-size:48px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xe1ff;</i> Température du milieu :</h3>
        <table hidden class="table table-bordered">
          <tr>
            <th scope="col">Date</th>
            {{#each temp }}
            <th class="sensor-date-week">{{this.date}}</th>
            {{/each}}
          </tr>
          <tr>
            <th scope="col">Température min (°C)</th>
            {{#each minTemp }}
            <td class="val-tempmin-week">{{this.min}}</td>
            {{/each}}
          </tr>
          <tr>
            <th scope="col">Température max (°C)</th>
            {{#each maxTemp }}
            <td class="val-tempmax-week">{{this.max}}</td>
            {{/each}}
          </tr>
          <tr>
            <th scope="col">Température (°C)</th>
            {{#each temp }}
            <td class="val-temp-week">{{this.temp}}</td>
            {{/each}}
          </tr>
      </table>
      <canvas style="font-weight: 800;color: #333;text-align: center;padding:4px;margin: 0 auto;" id="tempChart"></canvas>
      <script type="text/javascript">
        var chartTemp = document.getElementById("tempChart");

        var elemnt = document.getElementsByClassName("sensor-date-week");

        var dateSensor = []
        for(var x=0; x < elemnt.length; x++){
          dateSensor.push(elemnt[x].innerHTML);
        }
        var elsTemp = document.getElementsByClassName("val-temp-week");
        var elsTempMin = document.getElementsByClassName("val-tempmin-week");
        var elsTempMax = document.getElementsByClassName("val-tempmax-week");


        var temp = [];
        var tempMin = [];
        var tempMax = [];

        for(var x=0; x < elsTemp.length; x++){
        temp.push(elsTemp[x].innerHTML);
        tempMin.push(elsTempMin[x].innerHTML);
        tempMax.push(elsTempMax[x].innerHTML);

          
        }

      var tempChart = new Chart(chartTemp, {
        type: 'line',
        options: {
    scales: {
      y: {
        beginAtZero : true
      }
    }
  },
        data: {
          labels: dateSensor,
          datasets: [{
              label: 'Température',
              data: temp,
              fill: false,
              borderColor: 'rgb(75, 192, 192)',
              tension: 0.1
            },
            {
              label: 'Température min',
              data: tempMin,
              fill: false,
              borderColor: 'rgb(50,205,50)',
              tension: 0.1
            },
            {
              label: 'Température max',
              data: tempMax,
              fill: false,
              borderColor: 'rgb(250,218,94)',
              tension: 0.1
            }]
          }
      })
    
    </script>
    <br /> <br /><br /> <br /> <br />    <br /> <br /><br /> <br /> <br /> 


      <img width="100%" height="100%" src="https://i.postimg.cc/xT38Hh3s/footer2.png" alt="image">
      <img width="100%" height="100%"  src='https://i.postimg.cc/brLbMCc4/header.png'alt='header'/>
      <h3 style="font-weight: 800;color: #333;text-align: left;"> <i class="material-icons" style="font-size:48px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xe91c;</i>  Humidité relative du milieu:</h3>
        <table hidden class="table table-bordered">
          <tr>
            <th scope="col">Date</th>
            {{#each humidity }}
            <th>{{this.date}}</th>
            {{/each}}
          </tr>
          <tr>
            <th scope="col">Humidité min (%)</th>
            {{#each minHumd }}
            <td class="val-humiditymin-week" >{{this.min}}</td>
            {{/each}}
          </tr>
          <tr>
            <th scope="col">Humidité max (%)</th>
            {{#each maxHumd }}
            <td class="val-humiditymax-week">{{this.max}}</td>
            {{/each}}
          </tr>
          <tr>
            <th scope="col">Humidité (%)</th>
            {{#each humidity }}
            <td  class="val-humidity-week">{{this.humidity}}</td>
            {{/each}}
          </tr>
      </table>
      <canvas style="font-weight: 800;color: #333;text-align: center;padding:4px;margin: 0 auto;" id="humdChart"></canvas>
      <script type="text/javascript">
        var chartHumd = document.getElementById("humdChart");

        var elemnt = document.getElementsByClassName("sensor-date-week");

        var dateSensor = []
        for(var x=0; x < elemnt.length; x++){
          dateSensor.push(elemnt[x].innerHTML);
        }
        var elsHumd = document.getElementsByClassName("val-humidity-week");
        var elsHumdMin = document.getElementsByClassName("val-humiditymin-week");
        var elsHumdMax = document.getElementsByClassName("val-humiditymax-week");


        var humidity = [];
        var humidityMin = [];
        var humidityMax = [];

    
        for(var x=0; x < elsHumd.length; x++){
          humidity.push(elsHumd[x].innerHTML);
          humidityMin.push(elsHumdMin[x].innerHTML)
          humidityMax.push(elsHumdMax[x].innerHTML)

        }

      var humdChart = new Chart(chartHumd, {
        type: 'line',
        options: {
    scales: {
      y: {
        beginAtZero : true
      }
    }
  },
        data: {
          labels: dateSensor,
          datasets: [{
              label: 'Humidité',
              data: humidity,
              fill: false,
              borderColor: 'rgb(75, 192, 192)',
              tension: 0.1
            },
            {
              label: 'Humidité min',
              data: humidityMin,
              fill: false,
              borderColor: 'rgb(50,205,50)',
              tension: 0.1
            },
            {
              label: 'Humidité max',
              data: humidityMax,
              fill: false,
              borderColor: 'rgb(250,218,94)',
              tension: 0.1
            }]
          }
      })
    
    </script>
      <h3 style="font-weight: 800;color: #333;text-align: left;"> <i class="material-icons" style="font-size:48px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xe94d;</i> Pression :</h3>
        <table hidden class="table table-bordered">
          <tr>
            <th scope="col">Date</th>
            {{#each pressure }}
            <th>{{this.date}}</th>
            {{/each}}
          </tr>
          <tr>
            <th scope="col">Pression min (kPa)</th>
            {{#each minPress }}
            <td class="val-pressuremin-week">{{this.min}}</td>
            {{/each}}
          </tr>
          <tr>
            <th scope="col">Pression max (kPa)</th>
            {{#each maxPress }}
            <td class="val-pressuremax-week">{{this.max}}</td>
            {{/each}}
          </tr>
          <tr>
            <th scope="col">Pression (kPa)</th>
            {{#each pressure }}
            <td class="val-pressure-week">{{this.pressure}}</td>
            {{/each}}
          </tr>
      </table>
      <canvas style="font-weight: 800;color: #333;text-align: center;padding:4px;margin: 0 auto;" id="pressChart"></canvas>
      <script type="text/javascript">
        var chartPress = document.getElementById("pressChart");

        var elemnt = document.getElementsByClassName("sensor-date-week");

        var dateSensor = []
        for(var x=0; x < elemnt.length; x++){
          dateSensor.push(elemnt[x].innerHTML);
        }
        var elsPress = document.getElementsByClassName("val-pressure-week");
        var elsPressMin = document.getElementsByClassName("val-pressuremin-week");
        var elsPressMax = document.getElementsByClassName("val-pressuremax-week");


        var pressure = [];
        var pressureMin = [];
        var pressureMax = [];

        for(var x=0; x < elsPress.length; x++){
          pressure.push(elsPress[x].innerHTML);
          pressureMin.push(elsPressMin[x].innerHTML);
          pressureMax.push(elsPressMax[x].innerHTML);

        }

      var pressChart = new Chart(chartPress, {
        type: 'line',
        options: {
    scales: {
      y: {
        beginAtZero : true
      }
    }
  },
        data: {
          labels: dateSensor,
          datasets: [{
              label: 'Pression',
              data: pressure,
              fill: false,
              borderColor: 'rgb(75, 192, 192)',
              tension: 0.1
            },
            {
              label: 'Pression min',
              data: pressureMin,
              fill: false,
              borderColor: 'rgb(50,205,50)',
              tension: 0.1
            },
            {
              label: 'Pression max',
              data: pressureMax,
              fill: false,
              borderColor: 'rgb(250,218,94)',
              tension: 0.1
            }]
          }
      })
    
    </script>
    
        <!-- <img width="100%" height="100%" src="https://i.postimg.cc/xT38Hh3s/footer2.png" alt="image"> -->
        <!-- <img width="100%" height="100%"  src='https://i.postimg.cc/brLbMCc4/header.png'alt='header'/> -->
      <h3 style="font-weight: 800;color: #333;text-align: left;padding: 4px;"> <i class="material-icons" style="font-size:48px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xe91c;</i> Humidité du sol au niveau 20cm :</h3>
      <table hidden class="table table-bordered">
        <tr>
          <th scope="col">Date</th>
          {{#each niveau1 }}
          <th>{{this.date}}</th>
          {{/each}}
        </tr>
        <!-- <tr>
          <th scope="col">Humidité min (%)</th>
          {{#each minNiveau1 }}
          <td class="val-mv1min-week">{{this.min}}</td>
          {{/each}}
        </tr>
        <tr>
          <th scope="col">Humidité max (%)</th>
          {{#each maxNiveau1 }}
          <td class="val-mv1max-week">{{this.max}}</td>
          {{/each}}
        </tr> -->
        <tr>
          <th scope="col">Humidité (%)</th>
          {{#each niveau1 }}
          <td class="val-mv1-week">{{this.mv1}}</td>
          {{/each}}
        </tr>
    </table>
    <canvas style="font-weight: 800;color: #333;text-align: center;padding:4px;margin: 0 auto;" id="mv1Chart"></canvas>
    <script type="text/javascript">
      var chartMv1 = document.getElementById("mv1Chart");

      var elemnt = document.getElementsByClassName("sensor-date-week");

      var dateSensor = []
      for(var x=0; x < elemnt.length; x++){
        dateSensor.push(elemnt[x].innerHTML);
      }
      var elsMv1 = document.getElementsByClassName("val-mv1-week");
      // var elsMv1min = document.getElementsByClassName("val-mv1min-week");
      // var elsMv1max = document.getElementsByClassName("val-mv1max-week");


      var mv1 = [];
      var mv1min = [];
      var mv1max = [];

      for(var x=0; x < elsMv1.length; x++){
        mv1.push(elsMv1[x].innerHTML);
        // mv1min.push(elsMv1min[x].innerHTML);
        // mv1max.push(elsMv1max[x].innerHTML);

      }

    var mv1Chart = new Chart(chartMv1, {
      type: 'line',
      options: {
    scales: {
      y: {
        beginAtZero : true
      }
    }
  },
      data: {
        labels: dateSensor,
        datasets: [{
            label: 'Humidité 20 cm',
            data: mv1,
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
          },
          // {
          //   label: 'Humidité max 20 cm',
          //   data: mv1max,
          //   fill: false,
          //   borderColor: 'rgb(50,205,50)',
          //   tension: 0.1
          // },
          // {
          //   label: 'Humidité min 20 cm',
          //   data: mv1min,
          //   fill: false,
          //   borderColor: 'rgb(250,218,94)',
          //   tension: 0.1
          // }
        ]
        }
    })
  
  </script>
  <br /><br /> <br />
      <img width="100%" height="100%"  src='https://i.postimg.cc/brLbMCc4/header.png'alt='header'/>

    <h3 style="font-weight: 800;color: #333;text-align: left;padding: 4px;"> <i class="material-icons" style="font-size:48px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xe91c;</i> Humidité du sol au niveau 40cm :</h3>
      <table hidden class="table table-bordered">

        <tr>
          <th scope="col">Date</th>
          {{#each niveau2 }}
          <th>{{this.date}}</th>
          {{/each}}
        </tr>
        <!-- <tr>
          <th scope="col">Humidité min (%)</th>
          {{#each minNiveau2 }}
          <td class="val-mv2min-week">{{this.min}}</td>
          {{/each}}
        </tr>
        <tr>
          <th scope="col">Humidité max (%)</th>
          {{#each maxNiveau2 }}
          <td class="val-mv2max-week">{{this.max}}</td>
          {{/each}}
        </tr> -->
        <tr>
          <th scope="col">Humidité (%)</th>
          {{#each niveau2 }}
          <td class="val-mv2-week">{{this.mv2}}</td>
          {{/each}}
        </tr>
    </table>
    <canvas style="font-weight: 800;color: #333;text-align: center;padding:4px;margin: 0 auto;" id="mv2Chart"></canvas>
    <script type="text/javascript">
      var chartMv2 = document.getElementById("mv2Chart");

      var elemnt = document.getElementsByClassName("sensor-date-week");

      var dateSensor = []
      for(var x=0; x < elemnt.length; x++){
        dateSensor.push(elemnt[x].innerHTML);
      }
      var elsMv2 = document.getElementsByClassName("val-mv2-week");
      // var elsMv2min = document.getElementsByClassName("val-mv2min-week");
      // var elsMv2max = document.getElementsByClassName("val-mv2max-week");


      var mv2 = [];
      var mv2min = [];
      var mv2max = [];

      for(var x=0; x < elsMv2.length; x++){
        mv2.push(elsMv2[x].innerHTML);
        // mv2min.push(elsMv2min[x].innerHTML);
        // mv2max.push(elsMv2max[x].innerHTML);

      }

    var mv2Chart = new Chart(chartMv2, {
      type: 'line',
      options: {
    scales: {
      y: {
        beginAtZero : true
      }
    }
  },
      data: {
        labels: dateSensor,
        datasets: [{
            label: 'Humidité 40 cm',
            data: mv2,
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
          },
          // {
          //   label: 'Humidité max 40 cm',
          //   data: mv2max,
          //   fill: false,
          //   borderColor: 'rgb(50,205,50)',
          //   tension: 0.1
          // },
          // {
          //   label: 'Humidité min 40 cm',
          //   data: mv2min,
          //   fill: false,
          //   borderColor: 'rgb(250,218,94)',
          //   tension: 0.1
          // }
        ]
        }
    })
  
  </script>
    <!-- <br /> <br /><br /><br /> <br /><br /> <br /><br /><br /> <br /> -->
    <!-- <img width="100%" height="100%"  src='https://i.postimg.cc/brLbMCc4/header.png'alt='header'/> -->
    <h3 style="font-weight: 800;color: #333;text-align: left;padding: 4px;"> <i class="material-icons" style="font-size:48px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xe91c;</i> Humidité du sol au niveau 60cm :</h3>
      <table hidden class="table table-bordered">
        <tr>
          <th scope="col">Date</th>
          {{#each niveau3 }}
          <th>{{this.date}}</th>
          {{/each}}
        </tr>
        <!-- <tr>
          <th scope="col">Humidité min (%)</th>
          {{#each minNiveau3 }}
          <td class="val-mv3min-week">{{this.min}}</td>
          {{/each}}
        </tr>
        <tr>
          <th scope="col">Humidité max (%)</th>
          {{#each maxNiveau3 }}
          <td class="val-mv3max-week">{{this.max}}</td>
          {{/each}}
        </tr> -->
        <tr>
          <th scope="col">Humidité (%)</th>
          {{#each niveau3 }}
          <td class="val-mv3-week">{{this.mv3}}</td>
          {{/each}}
        </tr>
    </table>
    <canvas style="font-weight: 800;color: #333;text-align: center;padding:4px;margin: 0 auto;" id="mv3Chart"></canvas>
    <script type="text/javascript">
      var chartMv3 = document.getElementById("mv3Chart");

      var elemnt = document.getElementsByClassName("sensor-date-week");

      var dateSensor = []
      for(var x=0; x < elemnt.length; x++){
        dateSensor.push(elemnt[x].innerHTML);
      }
      var elsMv3 = document.getElementsByClassName("val-mv3-week");
      // var elsMv3min = document.getElementsByClassName("val-mv3min-week");
      // var elsMv3max = document.getElementsByClassName("val-mv3max-week");


      var mv3 = [];
      var mv3min = [];
      var mv3max = [];

      for(var x=0; x < elsMv3.length; x++){
        mv3.push(elsMv3[x].innerHTML);
        // mv3min.push(elsMv3min[x].innerHTML);
        // mv3max.push(elsMv3max[x].innerHTML);

      }

    var mv3Chart = new Chart(chartMv3, {
      type: 'line',
      options: {
    scales: {
      y: {
        beginAtZero : true
      }
    }
  },
      data: {
        labels: dateSensor,
        datasets: [{
            label: 'Humidité 60 cm',
            data: mv3,
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
          },
          // {
          //   label: 'Humidité max 60 cm',
          //   data: mv3max,
          //   fill: false,
          //   borderColor: 'rgb(50,205,50)',
          //   tension: 0.1
          // },
          // {
          //   label: 'Humidité min 60 cm',
          //   data: mv3min,
          //   fill: false,
          //   borderColor: 'rgb(250,218,94)',
          //   tension: 0.1
          // }
        ]
        }
    })
  
  </script>
          <br /> <br /><br /><br /> <br />    <br /> <br /><br /> <br /> <br />    <br /> <br /><br /> <br /> <br /> 

          <!-- {{#each products}}
          <h2 style="font-weight: 800;color: #333;text-align: left;padding: 16px;display: flex;align-items: center;justify-content: center;"><i class="material-icons" style="font-size:48px;padding: 0;margin: 0;color: #009CB3;text-shadow:2px 2px 4px #000000;">&#xe819;</i>3. Prévision météo Du: <span style="font-weight: bold;"> {{this.startDateWeather}} </span>au: <span style="font-weight: bold;">{{this.endDateWeather}}</span></h2> <br/> </h2>
          {{/each}}
          <table class="table text-center table-bordered prevs">
                <tr>
                  <th scope="col">Date</th>
                  {{#each weather }}
                  <th>{{this.date}}</th>
                  {{/each}}
                </tr>
                <tr>
                  <th scope="col">Température Max (°C)</th>
                  {{#each weather }}
                  <td>{{this.maxTemp}}</td>
                  {{/each}}

                </tr>
                <tr>
                  <th scope="col">Température Min (°C)</th>
                  {{#each weather }}
                  <td>{{this.minTemp}}</td>
                  {{/each}}

                </tr>
                <tr>
                  <th scope="col">Précipitation (mm)</th>
                  {{#each weather }}
                  <td>{{this.rain}}</td>
                  {{/each}}
                </tr>
                <tr>
                  <th scope="col">Vitesse du vent (km/h)</th>
                  {{#each weather }}
                  <td>{{this.windspeed}}</td>
                  {{/each}}
                </tr>
            </table> -->
            <!-- <br /> <br /><br /><br /> -->
            <img width="100%" height="100%" src="https://i.postimg.cc/xT38Hh3s/footer2.png" alt="image">
            <img width="100%" height="100%"  src='https://i.postimg.cc/brLbMCc4/header.png'alt='header'/>
            <h2 style="font-weight: 800;color: #333;text-align: left;padding: 16px;">Evapotranspiration cultural :</h2>
            <table  class="table text-center table-bordered">
                  <tr>
                    <th scope="col">Date</th>
                    {{#each calcul }}
                    <th>{{this.date}}</th>
                    {{/each}}
                  </tr>
                  <tr>
                    <th scope="col">ET0 (mm)</th>
                    {{#each calcul }}
                    <td>{{this.ET0}}</td>
                    {{/each}}
                  </tr>
                  <tr>
                    <th scope="col">Coefficient cultural (kc)</th>
                    {{#each calcul }}
                    <td>{{this.kc}}</td>
                    {{/each}}
                  </tr>
                  <tr>
                    <th scope="col">Evapotranspiration cultural (ETc)</th>
                    {{#each calcul }}
                    <td>{{this.Etc}}</td>
                    {{/each}}
                  </tr>
                </table>
        <h2 style="font-weight: 800;color: #333;text-align: left;padding: 16px;">4. Bilan hydrique hebdomadaire :</h2>
          <table class="table text-center table-bordered">
                <tr>
                  <th scope="col">Date</th>
                  {{#each calcul }}
                  <th  class="date-week">{{this.date}}</th>
                  {{/each}}
                </tr>
                <tr>
                  <th scope="col">Bilan</th>
                  {{#each calcul }}
                  <td class="val-bilan-week">{{this.bilan}}</td>
                  {{/each}}
                </tr>
                <tr>
                  <th scope="col">Dose irrigation (mm)</th>
                  {{#each calcul }}
                  <td>{{this.irrigation}}</td>
                  {{/each}}
                </tr>
            </table>
            <canvas style="font-weight: 800;color: #333;text-align: center;padding:4px;margin: 0 auto;" id="myChart"></canvas>
            <script type="text/javascript">
              var ctx = document.getElementById("myChart");

              var els = document.getElementsByClassName("date-week");

              var date = [];
           
              for(var x=0; x < els.length; x++){
                date.push(els[x].innerHTML);
              }
              var elsBilan = document.getElementsByClassName("val-bilan-week");
           

              var valBilan = [];

              for(var x=0; x < elsBilan.length; x++){
                valBilan.push(elsBilan[x].innerHTML);
              }
              
              var myChart = new Chart(ctx, {
              type: 'line',
              options: {
    scales: {
      y: {
        beginAtZero : true
      }
    }
  },
              data: {
                labels: date,
                datasets: [{
                    label: 'Courbe Bilan Hydrique',
                    data: valBilan,
                    fill: false,
                    borderColor: 'rgb(75, 192, 192)',
                    tension: 0.1
                  }]
                }
            })
          </script>
            
            <hr />
             <h2 style="font-weight: 800;color: #333;text-align: left;padding: 5px;">5. Nos Recommandation :</h2> <br />
             {{#each products}}
             <p style="font-weight: 600;color: #333;text-align: left;">
              - Le besoin de votre parcelle en irrigation est de {{this.totalIrrigation}} mm à répartir sur {{this.irrigNumber}} fois par semaine  
             </p>
             {{/each}}
            <img width="100%" height="100%" src="https://i.postimg.cc/xT38Hh3s/footer2.png" alt="image">

       </div>   

</body>
</html>