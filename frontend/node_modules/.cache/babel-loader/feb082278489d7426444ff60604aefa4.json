{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\smartFarm\\\\backoffice\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\smartFarm\\\\backoffice\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\smartFarm\\\\backoffice\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\smartFarm\\\\backoffice\\\\frontend\\\\src\\\\admin\\\\FieldsManagement.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport api from '../api/api';\nimport { Container, Row, Col, Card, CardBody, CardHeader, CardFooter, FormGroup, FormInput, ButtonGroup, FormSelect } from 'shards-react';\nimport PageTitle from '../components/common/PageTitle';\nimport { useTranslation } from 'react-i18next';\nimport { Modal } from \"react-bootstrap\";\nimport swal from 'sweetalert';\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport { Button, IconButton } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport { Recommend } from '@mui/icons-material';\nimport SmsIcon from '@mui/icons-material/Sms';\nimport SummarizeIcon from '@mui/icons-material/Summarize';\nimport HistoryIcon from '@mui/icons-material/History';\nimport PreviewIcon from '@mui/icons-material/Preview';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport CalculateIcon from '@mui/icons-material/Calculate';\nimport AddIcon from '@mui/icons-material/Add';\nimport Pagination from '../views/Pagination';\n\nvar FieldsManagement = function FieldsManagement() {\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var _useState = useState(10),\n      _useState2 = _slicedToArray(_useState, 2),\n      fieldsPerPage = _useState2[0],\n      setFieldsPerPage = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentPage = _useState4[0],\n      setCurrentPage = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      fields = _useState6[0],\n      setFields = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      farms = _useState8[0],\n      setFarms = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      sensors = _useState10[0],\n      setSensors = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      users = _useState12[0],\n      setUsers = _useState12[1];\n\n  var _useState13 = useState({}),\n      _useState14 = _slicedToArray(_useState13, 2),\n      singleField = _useState14[0],\n      setSingleField = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      reports = _useState16[0],\n      setReports = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      show = _useState18[0],\n      setShow = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      showRecomnd = _useState20[0],\n      setShowRecomnd = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      clicked = _useState22[0],\n      setClicked = _useState22[1];\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      isGenerated = _useState24[0],\n      setIsGenerated = _useState24[1];\n\n  var _useState25 = useState(null),\n      _useState26 = _slicedToArray(_useState25, 2),\n      calculData = _useState26[0],\n      setCalculData = _useState26[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  var handleShowRecomnd = function handleShowRecomnd() {\n    return setShowRecomnd(true);\n  };\n\n  var handleCloseRecomnd = function handleCloseRecomnd() {\n    return setShowRecomnd(false);\n  };\n\n  var getFields = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return api('/admin/fields').then(function (response) {\n                var fieldsData = response.data.fields;\n                var farmsData = response.data.farms;\n                var sensorsData = response.data.sensors;\n                var usersData = response.data.users;\n                setFields(fieldsData);\n                setFarms(farmsData);\n                setSensors(sensorsData);\n                setUsers(usersData);\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getFields() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var generateReport = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsGenerated(true);\n              _context2.next = 3;\n              return api.get('/create-report').then(function (result) {\n                if (result) {\n                  swal({\n                    icon: \"success\"\n                  });\n                  setIsGenerated(false);\n                }\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function generateReport() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getSingleField = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(fieldId) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return api.post('/admin/fields/single-field', {\n                fieldId: fieldId\n              }).then(function (response) {\n                if (response.data.type === \"success\") {\n                  var fieldData = response.data.field;\n                  setSingleField(fieldData);\n                  var allReports = fieldData.reports;\n                  setReports(allReports);\n                  handleShow(true);\n                }\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getSingleField(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var _useState27 = useState([]),\n      _useState28 = _slicedToArray(_useState27, 2),\n      recommendations = _useState28[0],\n      setRecmnd = _useState28[1];\n\n  var _useState29 = useState(\"\"),\n      _useState30 = _slicedToArray(_useState29, 2),\n      message = _useState30[0],\n      setMessage = _useState30[1];\n\n  var _useState31 = useState(''),\n      _useState32 = _slicedToArray(_useState31, 2),\n      userId = _useState32[0],\n      setUserId = _useState32[1];\n\n  var getSingleFieldRecmnds = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(fieldId, userId) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return api.get(\"/recommendations/\".concat(userId, \"/\").concat(fieldId)).then(function (response) {\n                var recommendations = response.data.recommendations;\n                setRecmnd(recommendations);\n                setMessage(recommendations[0].message);\n                setUserId(recommendations[0].user_id);\n                handleShowRecomnd(true);\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function getSingleFieldRecmnds(_x2, _x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var calculSimulation = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(fieldId, userId) {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return api.post('/admin/field-sensor-calcul', {\n                fieldId: fieldId,\n                userId: userId\n              });\n\n            case 3:\n              response = _context5.sent;\n              _context5.next = 6;\n              return response.data.data;\n\n            case 6:\n              data = _context5.sent;\n\n              if (data && data.length > 0) {\n                history.push({\n                  pathname: \"/admin/calcul-fields/\".concat(fieldId),\n                  state: {\n                    calculData: data\n                  }\n                });\n              } else {\n                console.error('No data found');\n              }\n\n              setCalculData(data);\n              _context5.next = 14;\n              break;\n\n            case 11:\n              _context5.prev = 11;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.log(_context5.t0);\n\n            case 14:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 11]]);\n    }));\n\n    return function calculSimulation(_x4, _x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getFields();\n  }, []);\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(file) {\n      var data, response, blob, url, a;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              data = {\n                filename: file\n              };\n              _context6.next = 4;\n              return api.post('/report/download', data);\n\n            case 4:\n              response = _context6.sent;\n              _context6.next = 7;\n              return response.blob();\n\n            case 7:\n              blob = _context6.sent;\n              url = URL.createObjectURL(blob);\n              a = document.createElement('a');\n              a.href = url;\n              a.download = 'historique.pdf';\n              document.body.appendChild(a);\n              a.click();\n              _context6.next = 19;\n              break;\n\n            case 16:\n              _context6.prev = 16;\n              _context6.t0 = _context6[\"catch\"](0);\n              console.error(_context6.t0);\n\n            case 19:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 16]]);\n    }));\n\n    return function handleClick(_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var downloadLastReport = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(file) {\n      var data, response, blob, url, a;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              data = {\n                filename: file\n              };\n              _context7.next = 4;\n              return api.post('/report/download', data);\n\n            case 4:\n              response = _context7.sent;\n              _context7.next = 7;\n              return response.blob();\n\n            case 7:\n              blob = _context7.sent;\n              url = URL.createObjectURL(blob);\n              a = document.createElement('a');\n              a.href = url;\n              a.download = 'historique.pdf';\n              document.body.appendChild(a);\n              a.click();\n              _context7.next = 19;\n              break;\n\n            case 16:\n              _context7.prev = 16;\n              _context7.t0 = _context7[\"catch\"](0);\n              console.error(_context7.t0);\n\n            case 19:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 16]]);\n    }));\n\n    return function downloadLastReport(_x7) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  var history = useHistory();\n\n  var goToField = function goToField(uid, userId) {\n    if (uid) {\n      localStorage.setItem(\"Field\", uid);\n    } else {\n      localStorage.setItem(\"Field\", 0);\n    }\n\n    history.push(\"/Fields/\".concat(uid));\n  };\n\n  var goToHistory = function goToHistory(code) {\n    history.push(\"/my-history/\".concat(code));\n  };\n\n  var getUserName = function getUserName(userId) {\n    var user = users.find(function (user) {\n      return user.id === userId;\n    });\n    return user ? user.name : '-';\n  };\n\n  var getUserPhone = function getUserPhone(userId) {\n    var user = users.find(function (user) {\n      return user.id === userId;\n    });\n    return user ? user.phone_number : '-';\n  };\n\n  var sendSMSToUser = function sendSMSToUser(phone) {\n    var data = {\n      phoneNumber: phone,\n      message: message\n    };\n\n    try {\n      if (message && message !== \"\") {\n        api.post('/admin/send-sms', data).then(function (response) {\n          if (response.data.type === \"success\") {\n            swal({\n              icon: \"success\"\n            });\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  var sendToUser = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(reportId, userId) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.prev = 0;\n              _context8.next = 3;\n              return api.post(\"/admin/send-report-email\", {\n                reportId: reportId,\n                userId: userId\n              });\n\n            case 3:\n              response = _context8.sent;\n\n              if (response.data.type === \"success\") {\n                swal({\n                  icon: \"success\",\n                  text: \"Report Successfully sended\"\n                });\n              }\n\n              _context8.next = 10;\n              break;\n\n            case 7:\n              _context8.prev = 7;\n              _context8.t0 = _context8[\"catch\"](0);\n              swal({\n                icon: \"error\",\n                text: \"Error\"\n              });\n\n            case 10:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, null, [[0, 7]]);\n    }));\n\n    return function sendToUser(_x8, _x9) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  var indexOfLastPost = currentPage * fieldsPerPage;\n  var indexOfFirstPost = indexOfLastPost - fieldsPerPage;\n  var currentFields = fields.sort(function (a, b) {\n    return a.name.localeCompare(b.name);\n  }).slice(indexOfFirstPost, indexOfLastPost);\n\n  var paginate = function paginate(pageNumber) {\n    return setCurrentPage(pageNumber);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    className: \"p-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"page-header py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    sm: \"4\",\n    title: t('list_fields'),\n    subtitle: t('list_fields'),\n    className: \"text-sm-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex justify-content-center p-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"3\",\n    md: \"12\",\n    sm: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    variant: \"contained\",\n    disabled: isGenerated,\n    onClick: function onClick() {\n      return generateReport();\n    },\n    endIcon: /*#__PURE__*/React.createElement(AddIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 119\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, \" Generate Reports\"))), /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table mb-0 text-center table-responsive-lg table-hover table-bordered\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"bg-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }\n  }, t('user')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }, t('farms')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 17\n    }\n  }, t('fields')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 17\n    }\n  }, t('crop_type')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 17\n    }\n  }, t('crop_variety')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 17\n    }\n  }, t('sensor_code')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, t('list_fields')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 17\n    }\n  }, t('History')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 17\n    }\n  }, t('Reports')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 17\n    }\n  }, t('Recommandations')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 17\n    }\n  }, t('Water Balance Simulation')))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }\n  }, currentFields && currentFields.map(function (field) {\n    var croptype = \"-\";\n    var variety = \"-\";\n    var farmName = \"-\";\n    var sensorCode = \"-\";\n    var userId = \"\";\n    var crops = field.crops;\n    crops.forEach(function (crop) {\n      return croptype = crop.croptypes.crop;\n    });\n    crops.forEach(function (crop) {\n      if (crop.varieties && Object.keys(crop.varieties).length !== 0) {\n        variety = crop.varieties.crop_variety;\n      }\n    });\n    farms && farms.map(function (farm) {\n      if (farm.id === field.farm_id) {\n        farmName = farm.name;\n        userId = farm.user_id;\n      }\n    });\n    sensors && sensors.map(function (sensor) {\n      if (sensor.field_id === field.id) {\n        sensorCode = sensor.code;\n      }\n    }); // const farm = farms.find((farm) => farm.id === field.farm_id);\n    // console.log(farm)\n    // if (farm) {\n    //   farmName = farm.name;\n    // }\n\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: field.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11.5,\n        fontWeight: 'bold'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 23\n      }\n    }, getUserName(userId)), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11.5,\n        fontWeight: 'bold'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 23\n      }\n    }, farmName), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11.5,\n        fontWeight: 'bold'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 23\n      }\n    }, field.name), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11.5,\n        fontWeight: 'bold'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 23\n      }\n    }, croptype), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11.5,\n        fontWeight: 'bold'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 23\n      }\n    }, variety), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        fontSize: 11.5,\n        fontWeight: 'bold'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 23\n      }\n    }, sensorCode), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: function onClick() {\n        return goToField(field.uid);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(PreviewIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 74\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: function onClick() {\n        return goToHistory(sensorCode);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(HistoryIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 77\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: function onClick() {\n        return getSingleField(field.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SummarizeIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 78\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: function onClick() {\n        return getSingleFieldRecmnds(field.id, userId);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SmsIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 93\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: function onClick() {\n        return calculSimulation(field.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CalculateIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 80\n      }\n    }))));\n  })))), /*#__PURE__*/React.createElement(Row, {\n    className: \" py-2 justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    usersPerPage: fieldsPerPage,\n    totalUsers: fields.length,\n    paginate: paginate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(Modal, {\n    size: \"lg\",\n    show: show,\n    onHide: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    className: \"d-flex flex-column\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 25\n    }\n  }, \"Field :\", singleField.name))), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table mb-0 text-center table-responsive-lg table-bordered\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"bg-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 17\n    }\n  }, t('Date')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 17\n    }\n  }, t('Download')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 17\n    }\n  }, t('Send')))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 13\n    }\n  }, reports.map(function (report) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: report.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 23\n      }\n    }, \" \", t('from'), \" \", report.filename.slice(37, 47), \" \", t('to'), \" \", report.filename.slice(48, 58), \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: function onClick() {\n        return handleClick(report.filename);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(DownloadIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 85\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: function onClick() {\n        return sendToUser(report.id, report.user_id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(SendIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 94\n      }\n    }))));\n  })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 11\n    }\n  }, \"Close\"))), /*#__PURE__*/React.createElement(Modal, {\n    size: \"lg\",\n    show: showRecomnd,\n    onHide: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    className: \"d-flex flex-column\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 25\n    }\n  }, \"Recommendations\"))), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      border: \"1px solid #bbb\",\n      padding: 6,\n      margin: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 17\n    }\n  }, t('title_recomnd')), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 17\n    }\n  }, t('nb_recomnd'), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center flex-column\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    value: message,\n    onChange: function onChange(e) {\n      return setMessage(e.target.value);\n    },\n    name: \"\",\n    id: \"\",\n    cols: \"50\",\n    rows: \"5\",\n    style: {\n      outline: \"none\",\n      border: \"1px solid lightgray\",\n      borderRadius: 12,\n      padding: 8,\n      margin: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 23\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(Button, {\n    className: \"my-2\",\n    outline: true,\n    onClick: function onClick() {\n      sendSMSToUser(getUserPhone(userId));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 112\n    }\n  }, \"\\uE163\")))), /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex justify-content-center align-items-center my-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      return setClicked(!clicked);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 17\n    }\n  }, t('see_all'))), clicked ? /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table mb-0 text-center table-responsive-lg table-bordered\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"bg-light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 23\n    }\n  }, t('Date')), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    className: \"border-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 23\n    }\n  }, t('Message')))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 19\n    }\n  }, recommendations && recommendations.map(function (recomnd) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: recomnd.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 29\n      }\n    }, new Date(recomnd.created_at).toISOString().slice(0, 10)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      readOnly: true,\n      style: {\n        outline: \"none\",\n        border: \"1px solid lightgray\",\n        borderRadius: 12,\n        padding: 8,\n        margin: 8\n      },\n      name: \"\",\n      id: \"\",\n      cols: \"40\",\n      rows: \"5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 31\n      }\n    }, recomnd.message)));\n  }))) : null), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleCloseRecomnd,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 11\n    }\n  }, \"Close\"))));\n};\n\nexport default FieldsManagement;","map":{"version":3,"names":["React","useState","useEffect","api","Container","Row","Col","Card","CardBody","CardHeader","CardFooter","FormGroup","FormInput","ButtonGroup","FormSelect","PageTitle","useTranslation","Modal","swal","useHistory","Button","IconButton","SendIcon","Recommend","SmsIcon","SummarizeIcon","HistoryIcon","PreviewIcon","DownloadIcon","CalculateIcon","AddIcon","Pagination","FieldsManagement","t","i18n","fieldsPerPage","setFieldsPerPage","currentPage","setCurrentPage","fields","setFields","farms","setFarms","sensors","setSensors","users","setUsers","singleField","setSingleField","reports","setReports","show","setShow","showRecomnd","setShowRecomnd","clicked","setClicked","isGenerated","setIsGenerated","calculData","setCalculData","handleClose","handleShow","handleShowRecomnd","handleCloseRecomnd","getFields","then","response","fieldsData","data","farmsData","sensorsData","usersData","catch","error","console","log","generateReport","get","result","icon","getSingleField","fieldId","post","type","fieldData","field","allReports","recommendations","setRecmnd","message","setMessage","userId","setUserId","getSingleFieldRecmnds","user_id","err","calculSimulation","length","history","push","pathname","state","handleClick","file","filename","blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","downloadLastReport","goToField","uid","localStorage","setItem","goToHistory","code","getUserName","user","find","id","name","getUserPhone","phone_number","sendSMSToUser","phone","phoneNumber","sendToUser","reportId","text","indexOfLastPost","indexOfFirstPost","currentFields","sort","b","localeCompare","slice","paginate","pageNumber","map","croptype","variety","farmName","sensorCode","crops","forEach","crop","croptypes","varieties","Object","keys","crop_variety","farm","farm_id","sensor","field_id","fontSize","fontWeight","report","border","padding","margin","e","target","value","outline","borderRadius","recomnd","Date","created_at","toISOString"],"sources":["C:/Users/lenovo/Desktop/smartFarm/backoffice/frontend/src/admin/FieldsManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport api from '../api/api'\r\nimport { Container, Row, Col, Card, CardBody, CardHeader, CardFooter, FormGroup, FormInput, ButtonGroup, FormSelect } from 'shards-react'\r\nimport PageTitle from '../components/common/PageTitle'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Modal } from \"react-bootstrap\";\r\nimport swal from 'sweetalert';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport {Button, IconButton} from '@mui/material';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport { Recommend } from '@mui/icons-material';\r\nimport SmsIcon from '@mui/icons-material/Sms';\r\nimport SummarizeIcon from '@mui/icons-material/Summarize';\r\nimport HistoryIcon from '@mui/icons-material/History';\r\nimport PreviewIcon from '@mui/icons-material/Preview';\r\nimport DownloadIcon from '@mui/icons-material/Download';\r\nimport CalculateIcon from '@mui/icons-material/Calculate';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport Pagination from '../views/Pagination';\r\n\r\n\r\nconst FieldsManagement = () => {\r\n  const { t, i18n } = useTranslation();\r\n  const [fieldsPerPage, setFieldsPerPage] = useState(10)\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [fields, setFields] = useState([])\r\n  const [farms, setFarms] = useState([])\r\n  const [sensors, setSensors] = useState([])\r\n  const [users, setUsers] = useState([])\r\n  const [singleField, setSingleField] = useState({})\r\n  const [reports, setReports] = useState([])\r\n  const [show, setShow] = useState(false);\r\n  const [showRecomnd, setShowRecomnd] = useState(false);\r\n  const [clicked,setClicked] = useState(false)\r\n  const [isGenerated, setIsGenerated] = useState(false)\r\n  const [calculData, setCalculData] = useState(null)\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  const handleShowRecomnd = () => setShowRecomnd(true);\r\n  const handleCloseRecomnd = () => setShowRecomnd(false);\r\n  const getFields = async () => {\r\n    await api('/admin/fields')\r\n      .then(response => {\r\n        let fieldsData = response.data.fields\r\n        let farmsData = response.data.farms\r\n        let sensorsData = response.data.sensors\r\n        let usersData = response.data.users\r\n\r\n        setFields(fieldsData)\r\n        setFarms(farmsData)\r\n        setSensors(sensorsData)\r\n        setUsers(usersData)\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  const generateReport = async () => {\r\n    setIsGenerated(true)\r\n    await api.get('/create-report')\r\n      .then(result => {\r\n        if (result) {\r\n          swal({\r\n            icon: \"success\",\r\n          });\r\n          setIsGenerated(false)\r\n\r\n        }\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  const getSingleField = async (fieldId) => {\r\n    await api.post('/admin/fields/single-field', { fieldId })\r\n      .then(response => {\r\n        if (response.data.type === \"success\") {\r\n          let fieldData = response.data.field\r\n          setSingleField(fieldData)\r\n          let allReports = fieldData.reports\r\n          setReports(allReports)\r\n          handleShow(true)\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n  }\r\n  const [recommendations, setRecmnd] = useState([])\r\n  const [message, setMessage] = useState(\"\")\r\n  const [userId,setUserId] = useState('')\r\n  const getSingleFieldRecmnds = async (fieldId, userId) => {\r\n    await api.get(`/recommendations/${userId}/${fieldId}`)\r\n      .then(response => {\r\n        let recommendations = response.data.recommendations\r\n        setRecmnd(recommendations)\r\n        setMessage(recommendations[0].message)\r\n        setUserId(recommendations[0].user_id)\r\n        handleShowRecomnd(true)\r\n\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  const calculSimulation = async (fieldId,userId) => {\r\n    try {\r\n      const response = await api.post('/admin/field-sensor-calcul',{fieldId,userId});\r\n      const data = await response.data.data; \r\n      if (data && data.length > 0) {\r\n        history.push({\r\n          pathname: `/admin/calcul-fields/${fieldId}`,\r\n          state: { calculData: data } \r\n        });\r\n      } else {\r\n        console.error('No data found');\r\n      }\r\n      setCalculData(data); \r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    getFields()\r\n  }, [])\r\n\r\n  const handleClick = async (file) => {\r\n\r\n    try {\r\n      let data = { filename: file }\r\n      const response = await api.post('/report/download', data);\r\n      const blob = await response.blob();\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = 'historique.pdf';\r\n      document.body.appendChild(a);\r\n      a.click();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const downloadLastReport = async (file) => {\r\n\r\n    try {\r\n      let data = { filename: file }\r\n      const response = await api.post('/report/download', data);\r\n      const blob = await response.blob();\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = 'historique.pdf';\r\n      document.body.appendChild(a);\r\n      a.click();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const history = useHistory()\r\n  const goToField = (uid, userId) => {\r\n    if (uid) {\r\n      localStorage.setItem(\r\n        \"Field\",\r\n        uid\r\n      );\r\n    } else {\r\n      localStorage.setItem(\"Field\", 0);\r\n    }\r\n    history.push(`/Fields/${uid}`)\r\n  }\r\n  const goToHistory = (code) => {\r\n\r\n    history.push(`/my-history/${code}`)\r\n  }\r\n\r\n  const getUserName = (userId) => {\r\n    const user = users.find((user) => user.id === userId);\r\n    return user ? user.name : '-';\r\n  };\r\n  const getUserPhone = (userId) => {\r\n    const user = users.find((user) => user.id === userId);\r\n    return user ? user.phone_number : '-';\r\n  };\r\n\r\n\r\n  const sendSMSToUser = (phone) => {\r\n    const data = {\r\n      phoneNumber: phone,\r\n      message: message\r\n    }\r\n\r\n    try {\r\n      if (message && message !== \"\") {\r\n        api.post('/admin/send-sms', data)\r\n          .then(response => {\r\n            if (response.data.type === \"success\") {\r\n              swal({\r\n                icon: \"success\",\r\n              });\r\n\r\n            }\r\n\r\n          }).catch(error => {\r\n            console.log(error)\r\n          })\r\n\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n\r\n  }\r\n\r\n  const sendToUser = async (reportId , userId) => {\r\n    try {\r\n      const response = await api.post(`/admin/send-report-email`, { reportId , userId});\r\n      if (response.data.type === \"success\") {\r\n        swal({\r\n          icon: \"success\",\r\n          text: \"Report Successfully sended\",\r\n        });\r\n\r\n      }\r\n    } catch (error) {\r\n      swal({\r\n        icon: \"error\",\r\n        text: \"Error\",\r\n      });\r\n\r\n    }\r\n  }\r\n  const indexOfLastPost = currentPage * fieldsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - fieldsPerPage;\r\n  const currentFields = fields.sort((a, b) => a.name.localeCompare(b.name)).slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  const paginate = pageNumber => setCurrentPage(pageNumber);\r\n\r\n  return (\r\n    <>\r\n      <Container className=\"p-4\">\r\n        <Row noGutters className=\"page-header py-4\">\r\n          <PageTitle\r\n            sm=\"4\"\r\n            title={t('list_fields')}\r\n            subtitle={t('list_fields')}\r\n            className=\"text-sm-left\"\r\n          />\r\n        </Row>\r\n        <Row className=\"d-flex justify-content-center p-4\">\r\n          <Col lg=\"3\" md=\"12\" sm=\"12\">\r\n            <Button size=\"small\" variant=\"contained\" disabled={isGenerated} onClick={() => generateReport()} endIcon={<AddIcon />}> Generate Reports</Button>\r\n\r\n          </Col>\r\n          {/* <Col lg=\"3\" md=\"12\" sm=\"12\">\r\n            <Button size=\"small\" variant=\"contained\" disabled={''} onClick={''} endIcon={<AddIcon />}> Test Calcul</Button>\r\n\r\n          </Col> */}\r\n        </Row>\r\n        <Card>\r\n          <table className=\"table mb-0 text-center table-responsive-lg table-hover table-bordered\">\r\n            <thead className=\"bg-light\">\r\n              <tr>\r\n                <th scope=\"col\" className=\"border-0\">{t('user')}</th>\r\n\r\n                <th scope=\"col\" className=\"border-0\">{t('farms')}</th>\r\n                <th scope=\"col\" className=\"border-0\">{t('fields')}</th>\r\n\r\n                <th scope=\"col\" className=\"border-0\">{t('crop_type')}</th>\r\n                <th scope=\"col\" className=\"border-0\">{t('crop_variety')}</th>\r\n                <th scope=\"col\" className=\"border-0\">{t('sensor_code')}</th>\r\n                <th scope=\"col\" className=\"border-0\">{t('list_fields')}</th>\r\n                <th scope=\"col\" className=\"border-0\">{t('History')}</th>\r\n                <th scope=\"col\" className=\"border-0\">{t('Reports')}</th>\r\n                <th scope=\"col\" className=\"border-0\">{t('Recommandations')}</th>\r\n                <th scope=\"col\" className=\"border-0\">{t('Water Balance Simulation')}</th>\r\n\r\n\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {\r\n\r\n          currentFields && currentFields.map(field => {\r\n                  let croptype = \"-\"\r\n                  let variety = \"-\"\r\n                  let farmName = \"-\"\r\n                  let sensorCode = \"-\"\r\n                  let userId = \"\"\r\n\r\n                  let crops = field.crops\r\n                  crops.forEach(crop => (\r\n                    croptype = crop.croptypes.crop\r\n                  ))\r\n                  crops.forEach(crop => {\r\n                    if (crop.varieties && Object.keys(crop.varieties).length !== 0) {\r\n                      variety = crop.varieties.crop_variety\r\n\r\n                    }\r\n                  })\r\n                  farms && farms.map(farm => {\r\n                    if (farm.id === field.farm_id) {\r\n                      farmName = farm.name\r\n                      userId = farm.user_id;\r\n                    }\r\n\r\n                  })\r\n\r\n                  sensors && sensors.map(sensor => {\r\n                    if (sensor.field_id === field.id) {\r\n                      sensorCode = sensor.code\r\n                    }\r\n                  })\r\n                  // const farm = farms.find((farm) => farm.id === field.farm_id);\r\n                  // console.log(farm)\r\n                  // if (farm) {\r\n                  //   farmName = farm.name;\r\n                  // }\r\n                  return (\r\n                    <tr key={field.id}>\r\n                      <td style={{ fontSize: 11.5, fontWeight: 'bold' }}>{getUserName(userId)}</td>\r\n                      <td style={{ fontSize: 11.5, fontWeight: 'bold' }}>{farmName}</td>\r\n                      <td style={{ fontSize: 11.5, fontWeight: 'bold' }}>{field.name}</td>\r\n                      <td style={{ fontSize: 11.5, fontWeight: 'bold' }}>{croptype}</td>\r\n                      <td style={{ fontSize: 11.5, fontWeight: 'bold' }}>{variety}</td>\r\n                      <td style={{ fontSize: 11.5, fontWeight: 'bold' }}>{sensorCode}</td>\r\n\r\n                      {/* <td><Button outline onClick={() => downloadLastReport()}><i className='material-icons'>&#xf090;</i></Button></td> */}\r\n                      <td>\r\n                        <IconButton onClick={() => goToField(field.uid)}><PreviewIcon /></IconButton>\r\n\r\n                      </td>\r\n                      <td>\r\n                        <IconButton onClick={() => goToHistory(sensorCode)}><HistoryIcon /></IconButton>\r\n\r\n                      </td>\r\n                      <td>\r\n\r\n                        <IconButton onClick={() => getSingleField(field.id)}><SummarizeIcon /></IconButton>\r\n\r\n                      </td>\r\n                      <td>\r\n\r\n                        <IconButton onClick={() => getSingleFieldRecmnds(field.id, userId)}><SmsIcon /></IconButton>\r\n\r\n                      </td>\r\n                      <td>\r\n\r\n                        <IconButton onClick={() => calculSimulation(field.id)}><CalculateIcon /></IconButton>\r\n\r\n                        </td>\r\n                    </tr>\r\n                  )\r\n                })\r\n              }\r\n\r\n            </tbody>\r\n          </table>\r\n\r\n        </Card>\r\n        <Row className=\" py-2 justify-content-center\">\r\n                      <Pagination usersPerPage={fieldsPerPage} totalUsers={fields.length} paginate={paginate} />\r\n\r\n        </Row>\r\n      </Container>\r\n      <Modal size=\"lg\" show={show} onHide={handleClose}>\r\n        <Modal.Header className=\"d-flex flex-column\" >\r\n          <Modal.Title> <h5>Field :{singleField.name}</h5></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <table className=\"table mb-0 text-center table-responsive-lg table-bordered\">\r\n            <thead className=\"bg-light\">\r\n              <tr>\r\n                <th scope=\"col\" className=\"border-0\">{t('Date')}</th>\r\n                <th scope=\"col\" className=\"border-0\">{t('Download')}</th>\r\n                <th scope=\"col\" className=\"border-0\">{t('Send')}</th>\r\n\r\n\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n\r\n              {\r\n\r\n                reports.map(report => {\r\n\r\n                  return (\r\n                    <tr key={report.id}>\r\n                     \r\n                      <td> {t('from')} {report.filename.slice(37, 47)} {t('to')} {report.filename.slice(48, 58)} </td>\r\n                      <td>\r\n                           <IconButton onClick={() => handleClick(report.filename)}><DownloadIcon /></IconButton>\r\n                      </td>\r\n                      <td>\r\n                          <IconButton onClick={() => sendToUser(report.id , report.user_id)}><SendIcon /></IconButton>\r\n\r\n                      </td>\r\n\r\n                    </tr>\r\n                  )\r\n                })\r\n              }\r\n\r\n            </tbody>\r\n          </table>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal size=\"lg\" show={showRecomnd} onHide={handleClose}>\r\n        <Modal.Header className=\"d-flex flex-column\" >\r\n          <Modal.Title> <h5>Recommendations</h5></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n             <div style={{border:\"1px solid #bbb\" , padding:6,margin:8 }}>\r\n                <h4 className='text-center'>{t('title_recomnd')}</h4>\r\n                <p className='text-center'>{t('nb_recomnd')} </p>\r\n                <div className=\"d-flex justify-content-center align-items-center flex-column\">\r\n                      <textarea value={message} onChange={(e) => setMessage(e.target.value)} name=\"\" id=\"\" cols=\"50\" rows=\"5\" style={{ outline: \"none\", border: \"1px solid lightgray\" , borderRadius:12,padding:8,margin:8 }}> </textarea>\r\n                      <Button className=\"my-2\" outline onClick={() => { sendSMSToUser(getUserPhone(userId)) }}><i className='material-icons'>&#xe163;</i></Button>\r\n                  \r\n                  \r\n\r\n                </div>\r\n\r\n              </div>    \r\n              <Row className=\"d-flex justify-content-center align-items-center my-2\">\r\n                <Button onClick={() => setClicked(!clicked)}>{t('see_all')}</Button>\r\n\r\n              </Row>\r\n              {\r\n                clicked \r\n                ?\r\n                <table className=\"table mb-0 text-center table-responsive-lg table-bordered\">\r\n                  <thead className=\"bg-light\">\r\n                    <tr>\r\n                      <th scope=\"col\" className=\"border-0\">{t('Date')}</th>\r\n                      <th scope=\"col\" className=\"border-0\">{t('Message')}</th>\r\n                      {/* <th scope=\"col\" className=\"border-0\">{t('Send SmS')}</th> */}\r\n\r\n\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n\r\n                    {\r\n\r\n                      recommendations && recommendations.map(recomnd => {\r\n                        return (\r\n                          <tr key={recomnd.id}>\r\n                            <td>\r\n                              {new Date(recomnd.created_at).toISOString().slice(0, 10)}\r\n                            </td>\r\n                            <td>\r\n                              <textarea readOnly style={{ outline: \"none\", border: \"1px solid lightgray\" , borderRadius:12,padding:8,margin:8 }} name=\"\" id=\"\" cols=\"40\" rows=\"5\" >\r\n                                  {recomnd.message} \r\n                              </textarea>\r\n\r\n                            </td>\r\n                            {/* <td>\r\n                              <Button outline onClick={() => { sendSMSToUser(getUserPhone(recomnd.user_id)) }}><i className='material-icons'>&#xe163;</i></Button>\r\n\r\n\r\n                            </td> */}\r\n                          </tr>\r\n                        )\r\n\r\n                      })\r\n                    }\r\n\r\n                  </tbody>\r\n                </table>\r\n                :\r\n                null\r\n              }\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleCloseRecomnd}>\r\n            Close\r\n          </Button>\r\n\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FieldsManagement"],"mappings":"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"},"metadata":{},"sourceType":"module"}