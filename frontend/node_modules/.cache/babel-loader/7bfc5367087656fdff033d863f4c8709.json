{"ast":null,"code":"import _slicedToArray from \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\backoffice v2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\backoffice v2\\\\frontend\\\\src\\\\views\\\\FilterFields.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, CardBody, Card, CardHeader, FormInput, FormGroup, Form, FormSelect, Button } from 'shards-react';\nimport swal from \"sweetalert\";\nimport api from \"../api/api\";\nimport AllFields from './AllFields';\nimport FilteredByStatus from './FilteredByStatus';\nimport FilteredNoSensor from './FilteredNoSensor';\n\nvar FilterFields = function FilterFields(_ref) {\n  var fieldStats = _ref.fieldStats,\n      sensorsData = _ref.sensorsData,\n      filteredByStatus = _ref.filteredByStatus,\n      crops = _ref.crops;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      farms = _useState2[0],\n      setFarms = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fields = _useState4[0],\n      setFields = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      SearchName = _useState6[0],\n      setSearchName = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      filteredResult = _useState8[0],\n      setFilteredResult = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      value = _useState10[0],\n      setValue = _useState10[1];\n\n  useEffect(function () {\n    getAllFields();\n  }, [fieldStats]);\n\n  var getAllFields = function getAllFields() {\n    var Fields = [];\n    fieldStats.map(function (farm) {\n      var fields = farm.fields;\n\n      if (fields) {\n        fields.map(function (itemfield) {\n          Fields.push({\n            name: itemfield.name,\n            status: itemfield.status,\n            description: itemfield.description,\n            uid: itemfield.uid,\n            farm_id: itemfield.farm_id,\n            id: itemfield.id,\n            sensors: itemfield.sensors\n          });\n        });\n      }\n    });\n    setFields(Fields);\n  };\n\n  var searchMethod = function searchMethod() {\n    switch (value) {\n      case 'All fields':\n        return /*#__PURE__*/React.createElement(AllFields, {\n          sensorsData: sensorsData,\n          crops: crops,\n          filteredFields: filteredFields,\n          fields: fields,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 24\n          }\n        });\n\n      case 'State':\n        return /*#__PURE__*/React.createElement(FilteredByStatus, {\n          sensorsData: sensorsData,\n          crops: crops,\n          value: value,\n          filteredByStatus: filteredByStatus,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 24\n          }\n        });\n\n      case 'No sensor':\n        return /*#__PURE__*/React.createElement(FilteredNoSensor, {\n          crops: crops,\n          fields: fields,\n          filteredFields: filteredFields,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 24\n          }\n        });\n\n      default:\n        return /*#__PURE__*/React.createElement(AllFields, {\n          sensorsData: sensorsData,\n          crops: crops,\n          filteredFields: filteredFields,\n          fields: fields,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }\n        });\n    }\n  };\n\n  var selectSearch = [{\n    value: 'All fields',\n    label: 'All fields'\n  }, {\n    value: 'Critical',\n    label: 'Critical'\n  }, {\n    value: 'Optimal',\n    label: 'Optimal'\n  }, {\n    value: 'Full',\n    label: 'Full'\n  }, {\n    value: 'No sensor',\n    label: 'No sensor'\n  }];\n  var filteredFields = fields.filter(function (field) {\n    if (SearchName != '') {\n      return field.name.toLowerCase().includes(SearchName.toLowerCase());\n    }\n\n    if (value === 'Critical' || value === 'Optimal' || value === 'Full') {\n      return field.status === value;\n    }\n\n    return field;\n  });\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"main-content-container px-4 py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    form: true,\n    className: \"d-flex justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"4\",\n    md: \"6\",\n    sm: \"6\",\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormInput, {\n    value: SearchName,\n    onChange: function onChange(e) {\n      return setSearchName(e.target.value);\n    },\n    placeholder: \"Search by Field Name...\",\n    className: \"mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    lg: \"4\",\n    md: \"6\",\n    sm: \"6\",\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormSelect, {\n    id: \"myList\",\n    value: value,\n    onChange: function onChange(e) {\n      return setValue(e.target.value);\n    },\n    className: \"mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, selectSearch.map(function (_ref2) {\n    var value = _ref2.value,\n        label = _ref2.label;\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: value,\n      value: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, label);\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, searchMethod()));\n};\n\nexport default FilterFields;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","CardBody","Card","CardHeader","FormInput","FormGroup","Form","FormSelect","Button","swal","api","AllFields","FilteredByStatus","FilteredNoSensor","FilterFields","fieldStats","sensorsData","filteredByStatus","crops","farms","setFarms","fields","setFields","SearchName","setSearchName","filteredResult","setFilteredResult","value","setValue","getAllFields","Fields","map","farm","itemfield","push","name","status","description","uid","farm_id","id","sensors","searchMethod","filteredFields","selectSearch","label","filter","field","toLowerCase","includes","e","target"],"sources":["C:/professional/2K Media/II.develepment/smart farm/backoffice v2/frontend/src/views/FilterFields.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Container, Row, Col, CardBody, Card, CardHeader, FormInput, FormGroup, Form, FormSelect, Button } from 'shards-react'\nimport swal from \"sweetalert\";\nimport api from \"../api/api\"\nimport AllFields from './AllFields';\nimport FilteredByStatus from './FilteredByStatus';\nimport FilteredNoSensor from './FilteredNoSensor'\n\nconst FilterFields = ({ fieldStats, sensorsData, filteredByStatus, crops }) => {\n\n    const [farms, setFarms] = useState([]);\n    const [fields, setFields] = useState([]);\n    const [SearchName, setSearchName] = useState('');\n    const [filteredResult, setFilteredResult] = useState([])\n\n    const [value, setValue] = useState('')\n\n    useEffect(() => {\n        getAllFields()\n    }, [fieldStats])\n    const getAllFields = () => {\n        let Fields = [];\n        fieldStats.map(farm => {\n            let fields = farm.fields\n            if (fields) {\n                fields.map(itemfield => {\n                    Fields.push({\n                        name: itemfield.name,\n                        status: itemfield.status,\n                        description: itemfield.description,\n                        uid: itemfield.uid,\n                        farm_id: itemfield.farm_id,\n                        id: itemfield.id,\n                        sensors: itemfield.sensors\n                    });\n                })\n            }\n        });\n        setFields(Fields)\n    }\n\n\n\n\n    const searchMethod = () => {\n\n        switch (value) {\n            case 'All fields':\n                return <AllFields sensorsData={sensorsData} crops={crops} filteredFields={filteredFields} fields={fields} />\n            case 'State':\n                return <FilteredByStatus sensorsData={sensorsData} crops={crops} value={value} filteredByStatus={filteredByStatus} />\n            case 'No sensor':\n                return <FilteredNoSensor crops={crops} fields={fields} filteredFields={filteredFields} />\n            default: return <AllFields sensorsData={sensorsData} crops={crops} filteredFields={filteredFields} fields={fields} />\n\n        }\n    }\n\n    \n\n\n    const selectSearch = [\n        { value: 'All fields', label: 'All fields' },\n        { value: 'Critical', label: 'Critical' },\n        { value: 'Optimal', label: 'Optimal' },\n        { value: 'Full', label: 'Full' },\n        { value: 'No sensor', label: 'No sensor' }\n    ];\n\n    const filteredFields = fields.filter(field => {\n            if(SearchName != ''){\n                return (\n                    field.name.toLowerCase().includes(SearchName.toLowerCase())\n\n                    )\n            }  \n            if( value === 'Critical'|| value === 'Optimal' || value === 'Full' ){\n                return (\n                    field.status === value\n\n                    )\n            }  \n            return field\n        }\n    );\n\n\n\n    return (\n        <Container fluid className=\"main-content-container px-4 py-4\">\n            <Row form className=\"d-flex justify-content-center\">\n                <Col lg=\"4\" md=\"6\" sm=\"6\" className=\"mb-4\">\n                    <FormInput value={SearchName} onChange={(e) => setSearchName(e.target.value)} placeholder=\"Search by Field Name...\" className=\"mb-2\" />\n                </Col>\n                <Col lg=\"4\" md=\"6\" sm=\"6\" className=\"mb-4\">\n                    <FormSelect id='myList' value={value} onChange={(e) => setValue(e.target.value)} className=\"mb-2\">\n                        {\n                            selectSearch.map(({ value, label }) => (\n                                <option key={value} value={value}>{label}</option>\n                            ))\n                        }\n                    </FormSelect>\n                </Col>\n            </Row>\n            <Row>\n                {searchMethod()}\n            </Row>\n        </Container>\n    )\n}\n\nexport default FilterFields"],"mappings":"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"},"metadata":{},"sourceType":"module"}