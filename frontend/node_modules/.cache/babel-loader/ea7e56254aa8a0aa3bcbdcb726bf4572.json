{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/var/www/prod/smartfarm/backoffice/frontend/src/admin/SensorsList.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport api from '../api/api';\nimport { Container, Card, Row, Col, FormGroup, Form, FormInput, FormSelect, Modal, ModalHeader, ModalBody, Button, ButtonGroup, CardBody, CardHeader, Nav, NavItem, NavLink } from 'shards-react';\nimport PageTitle from '../components/common/PageTitle';\nimport { useTranslation } from \"react-i18next\";\nimport swal from 'sweetalert';\nimport Html5QrcodePlugin from \"../views/Html5QrcodePlugin\";\nimport SensorList from '../views/SensorList';\n\nvar SensorsList = function SensorsList() {\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      SingleSensor = _useState2[0],\n      setSingleSensor = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      toggle = _useState4[0],\n      setToggle = _useState4[1];\n\n  var params = useParams();\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sensors = _useState6[0],\n      setSensors = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      resultScan = _useState8[0],\n      setResultScan = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      description = _useState10[0],\n      setDesc = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      fieldUid = _useState12[0],\n      setFieldUid = _useState12[1];\n\n  var Uid = params.uid;\n  useEffect(function () {\n    getSensorsByUser();\n  }, []);\n\n  var getSensorsByUser = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return api.get(\"/admin/user/\".concat(Uid, \"/sensors\")).then(function (res) {\n                var SensorsData = res.data.sensors;\n                setSensors(SensorsData);\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getSensorsByUser() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      fields = _useState14[0],\n      setFields = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      farms = _useState16[0],\n      setFarms = _useState16[1];\n\n  var getFieldsByUser = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return api.get(\"/admin/user/\".concat(Uid, \"/fields\")).then(function (response) {\n                if (response.data.type === \"success\") {\n                  var FarmsData = response.data.farms;\n                  setFarms(FarmsData);\n                }\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getFieldsByUser() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getFields = function getFields() {\n    var Fields = [];\n    farms.map(function (item) {\n      var fields = item.fields;\n\n      if (fields) {\n        fields.map(function (field) {\n          Fields.push({\n            title: field.name,\n            status: field.status,\n            description: field.description,\n            Uid: field.uid,\n            farm_id: field.farm_id,\n            Id: field.id\n          });\n        });\n      }\n    });\n    setFields(Fields);\n  };\n\n  useEffect(function () {\n    getFieldsByUser();\n  }, []);\n  useEffect(function () {\n    getFields();\n  }, [farms]);\n\n  var onNewScanResult = function onNewScanResult(decodedText, decodedResult) {\n    setResultScan(decodedText); // Handle the result here.\n  };\n\n  var getSingleSensor = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(sensorUid) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              data = {\n                sensor_uid: sensorUid,\n                user_uid: Uid\n              };\n              _context3.next = 3;\n              return api.post('/admin/single-sensor', data).then(function (res) {\n                var SensorData = res.data.sensor;\n                setSingleSensor(SensorData);\n                setResultScan(SensorData[0].code);\n                setDesc(SensorData[0].description);\n              }).catch(function (error) {\n                swal({\n                  title: \"Error\",\n                  icon: \"error\"\n                });\n              });\n\n            case 3:\n              setToggle(!toggle);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getSingleSensor(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(sensorUid) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              data = {\n                sensor_uid: sensorUid\n              };\n              _context4.next = 3;\n              return api.delete('/admin/delete-sensor', {\n                data: data\n              }).then(function (response) {\n                if (response.data.type && response.data.type == \"danger\") {\n                  swal({\n                    title: \"\".concat(t('cannot_delete')),\n                    icon: \"warning\"\n                  });\n                }\n\n                if (response.data.type == \"success\") {\n                  getSensorsByUser();\n                }\n              }).catch(function (error) {\n                swal({\n                  title: \"\".concat(t('cannot_delete')),\n                  icon: \"error\",\n                  text: 'Error'\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleDelete(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var confirmDelete = function confirmDelete(sensorUid) {\n    swal({\n      title: \"\".concat(t('are_you_sure')),\n      text: \"\".concat(t('confirm_delete')),\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(function (Delete) {\n      if (Delete) {\n        handleDelete(sensorUid);\n        swal(\" Sensor has been deleted!\", {\n          icon: \"success\"\n        });\n      }\n    }).catch(function (error) {\n      swal({\n        title: \"Cannot Delete Sensor\",\n        icon: \"error\",\n        text: 'error_delete_sensor'\n      });\n    });\n  };\n\n  var addSensor = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              data = {\n                code: resultScan,\n                description: description,\n                user_uid: Uid,\n                field_uid: fieldUid\n              };\n              _context5.next = 3;\n              return api.post('/admin/add-sensor', data).then(function (response) {\n                if (response.data.type === \"success\") {\n                  swal('Sensor Added', {\n                    icon: \"success\"\n                  });\n                  getSensorsByUser();\n                  setResultScan('');\n                  setDesc('');\n                }\n              }).catch(function (err) {\n                swal(err, {\n                  icon: \"error\"\n                });\n              });\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function addSensor() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var handleEdit = function handleEdit(sensorUid) {\n    var data = {\n      code: resultScan,\n      description: description,\n      user_uid: Uid,\n      sensor_uid: sensorUid\n    };\n    api.post('/admin/edit-sensor', data).then(function (response) {\n      if (response.data.type == \"success\") {\n        swal(\" Sensor has been updated\", {\n          icon: \"success\"\n        });\n        setToggle(false);\n        getSensorsByUser();\n      }\n\n      if (response.data.type && response.data.type == \"danger\") {\n        swal({\n          icon: 'error',\n          title: 'Oops...',\n          text: 'error_edit_sensor'\n        });\n        return false;\n      }\n    }).catch(function (error) {\n      swal({\n        icon: 'error',\n        title: 'Oops...',\n        text: 'error_edit_sensor'\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    className: \"py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    justified: true,\n    pills: true,\n    className: \"bg-white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/user/\".concat(Uid),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  }, t('profile')))), /*#__PURE__*/React.createElement(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/user/\".concat(Uid, \"/farms\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 19\n    }\n  }, t('farms')))), /*#__PURE__*/React.createElement(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/user/\".concat(Uid, \"/fields\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }, t('fields')))), /*#__PURE__*/React.createElement(NavItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    active: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }\n  }, 'sensors'))), /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"page-header py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    subtitle: t('sensors'),\n    md: \"12\",\n    className: \"ml-sm-auto mr-sm-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SensorList, {\n    sensorsData: sensors,\n    Sensors: getSensorsByUser,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"page-header py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    subtitle: t('add_sensor'),\n    md: \"12\",\n    className: \"ml-sm-auto mr-sm-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Card, {\n    small: true,\n    className: \"h-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      width: \"auto\",\n      float: \"left\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 15\n    }\n  }, t('sensor_setup')), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"flex-end\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button // theme=\"success\"\n  , {\n    className: \"mb-2 mr-1 btn btn-success\",\n    onClick: addSensor,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-check mx-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 17\n    }\n  }), t('save')), /*#__PURE__*/React.createElement(Button // theme=\"success\"\n  , {\n    className: \"mb-2 mr-1 btn btn-danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-times mx-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 17\n    }\n  }), t('cancel')))), /*#__PURE__*/React.createElement(CardBody, {\n    className: \"pt-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      marginTop: \"20px\",\n      flexWrap: \"wrap\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"4\",\n    sm: \"12\",\n    md: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    form: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"12\",\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"0px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 23\n    }\n  }, t('sensor_code')), /*#__PURE__*/React.createElement(FormInput, {\n    placeholder: t('sensor_code'),\n    value: resultScan,\n    onChange: function onChange(e) {\n      return setResultScan(e.target.value);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    md: \"6\",\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"0px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 23\n    }\n  }, t('name_field')), /*#__PURE__*/React.createElement(FormSelect, {\n    placeholder: t('name_field'),\n    required: true,\n    value: fieldUid,\n    onChange: function onChange(e) {\n      return setFieldUid(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 23\n    }\n  }, fields.map(function (item, indx) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.Uid,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 36\n      }\n    }, item.title);\n  })))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"0px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 21\n    }\n  }, t('desc')), /*#__PURE__*/React.createElement(\"textarea\", {\n    style: {\n      height: \"220px\"\n    },\n    class: \"form-control\",\n    placeholder: t('desc'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    lg: \"8\",\n    md: \"12\",\n    sm: \"12\",\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 19\n    }\n  }, t('scan_qrcode_sensor')), /*#__PURE__*/React.createElement(Html5QrcodePlugin, {\n    fps: 10,\n    qrbox: 250,\n    disableFlip: true,\n    rememberLastUsedCamera: false,\n    qrCodeSuccessCallback: onNewScanResult,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 19\n    }\n  }))))))));\n};\n\nexport default SensorsList;","map":{"version":3,"names":["React","useEffect","useState","Link","useParams","api","Container","Card","Row","Col","FormGroup","Form","FormInput","FormSelect","Modal","ModalHeader","ModalBody","Button","ButtonGroup","CardBody","CardHeader","Nav","NavItem","NavLink","PageTitle","useTranslation","swal","Html5QrcodePlugin","SensorList","SensorsList","t","i18n","SingleSensor","setSingleSensor","toggle","setToggle","params","sensors","setSensors","resultScan","setResultScan","description","setDesc","fieldUid","setFieldUid","Uid","uid","getSensorsByUser","get","then","res","SensorsData","data","catch","error","console","log","fields","setFields","farms","setFarms","getFieldsByUser","response","type","FarmsData","getFields","Fields","map","item","field","push","title","name","status","farm_id","Id","id","onNewScanResult","decodedText","decodedResult","getSingleSensor","sensorUid","sensor_uid","user_uid","post","SensorData","sensor","code","icon","handleDelete","delete","text","confirmDelete","buttons","dangerMode","Delete","addSensor","field_uid","err","handleEdit","display","justifyContent","width","float","marginTop","flexWrap","margin","e","target","value","indx","height"],"sources":["/var/www/prod/smartfarm/backoffice/frontend/src/admin/SensorsList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport api from '../api/api'\nimport { Container, Card, Row, Col, FormGroup, Form, FormInput, FormSelect, Modal, ModalHeader, ModalBody, Button, ButtonGroup, CardBody, CardHeader,Nav,NavItem,NavLink  } from 'shards-react'\nimport PageTitle from '../components/common/PageTitle'\nimport { useTranslation } from \"react-i18next\";\nimport swal from 'sweetalert'\nimport Html5QrcodePlugin from \"../views/Html5QrcodePlugin\";\nimport SensorList from '../views/SensorList'\n\nconst SensorsList = () => {\n\n  const { t, i18n } = useTranslation();\n\n  const [SingleSensor, setSingleSensor] = useState([])\n  const [toggle, setToggle] = useState(false);\n\n\n  const params = useParams();\n  const [sensors, setSensors] = useState([]);\n  const [resultScan, setResultScan] = useState('');\n  const [description, setDesc] = useState('');\n  const [fieldUid, setFieldUid] = useState('');\n\n  let Uid = params.uid;\n\n  useEffect(() => {\n    getSensorsByUser()\n  }, [])\n\n  const getSensorsByUser = async () => {\n    await api.get(`/admin/user/${Uid}/sensors`)\n      .then(res => {\n        let SensorsData = res.data.sensors;\n        setSensors(SensorsData)\n      }).catch(error => {\n        console.log(error)\n\n      })\n  }\n  const [fields, setFields] = useState([]);\n  const [farms, setFarms] = useState([])\n\n  const getFieldsByUser = async () => {\n    await api.get(`/admin/user/${Uid}/fields`)\n      .then(response => {\n        if (response.data.type === \"success\") {\n          let FarmsData = response.data.farms\n          setFarms(FarmsData);\n        }\n\n      }).catch(error => {\n        console.log(error)\n      })\n  }\n\n  const getFields = () => {\n    let Fields = [];\n    farms.map(item => {\n      let fields = item.fields;\n      if (fields) {\n        fields.map(field => {\n          Fields.push({\n            title: field.name,\n            status: field.status,\n            description: field.description,\n            Uid: field.uid,\n            farm_id: field.farm_id,\n            Id: field.id\n          })\n        })\n      }\n    })\n    setFields(Fields)\n  }\n  useEffect(() => {\n    getFieldsByUser();\n  }, [])\n\n  useEffect(() => {\n    getFields()\n  }, [farms])\n\n  const onNewScanResult = (decodedText, decodedResult) => {\n    setResultScan(decodedText)\n\n    // Handle the result here.\n  }\n\n\n  const getSingleSensor = async (sensorUid) => {\n\n    let data = {\n      sensor_uid: sensorUid,\n      user_uid: Uid\n\n    }\n\n    await api.post('/admin/single-sensor', data)\n      .then(res => {\n        let SensorData = res.data.sensor\n        setSingleSensor(SensorData)\n        setResultScan(SensorData[0].code)\n        setDesc(SensorData[0].description)\n      }).catch(error => {\n        swal({\n          title: \"Error\",\n          icon: \"error\",\n\n        });\n\n      })\n    setToggle(!toggle)\n\n  }\n\n\n  const handleDelete = async sensorUid => {\n    let data = {\n      sensor_uid: sensorUid,\n    }\n    await api.delete('/admin/delete-sensor', { data: data })\n      .then(response => {\n        if (response.data.type && response.data.type == \"danger\") {\n          swal({\n            title: `${t('cannot_delete')}`,\n            icon: \"warning\",\n          });\n        }\n        if (response.data.type == \"success\") {\n          getSensorsByUser()\n\n        }\n      }).catch(error => {\n        swal({\n          title: `${t('cannot_delete')}`,\n          icon: \"error\",\n          text: 'Error'\n\n        });\n      })\n  }\n\n\n\n  const confirmDelete = sensorUid => {\n\n    swal({\n      title: `${t('are_you_sure')}`,\n      text: `${t('confirm_delete')}`,\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true,\n    })\n      .then((Delete) => {\n        if (Delete) {\n          handleDelete(sensorUid)\n          swal(\" Sensor has been deleted!\", {\n            icon: \"success\",\n          });\n        }\n      }).catch(error => {\n        swal({\n          title: \"Cannot Delete Sensor\",\n          icon: \"error\",\n          text: 'error_delete_sensor'\n\n        });\n      })\n\n  }\n\n  const addSensor = async () => {\n\n    let data = {\n      code: resultScan,\n      description: description,\n      user_uid: Uid,\n      field_uid: fieldUid\n    }\n    await api.post('/admin/add-sensor', data)\n      .then(response => {\n        if (response.data.type === \"success\") {\n          swal('Sensor Added', { icon: \"success\" });\n          getSensorsByUser()\n          setResultScan('')\n          setDesc('')\n        }\n      }).catch(err => {\n        swal(err, { icon: \"error\" })\n      })\n  }\n\n\n  const handleEdit = (sensorUid) => {\n\n    let data = {\n      code: resultScan,\n      description: description,\n      user_uid: Uid,\n      sensor_uid: sensorUid\n    }\n\n\n\n    api.post('/admin/edit-sensor', data)\n      .then(response => {\n        if (response.data.type == \"success\") {\n          swal(\" Sensor has been updated\", {\n            icon: \"success\",\n          });\n          setToggle(false)\n          getSensorsByUser();\n        }\n        if (response.data.type && response.data.type == \"danger\") {\n          swal({\n            icon: 'error',\n            title: 'Oops...',\n            text: 'error_edit_sensor'\n          })\n          return false;\n        }\n      }).catch(error => {\n        swal({\n          icon: 'error',\n          title: 'Oops...',\n          text: 'error_edit_sensor'\n        })\n      })\n\n\n  }\n\n\n  return (\n    <>\n      <Container className=\"py-4\">\n      <Nav justified pills className=\"bg-white\">\n              <NavItem>\n                <NavLink>\n                  <Link to={`/admin/user/${Uid}`}>{t('profile')}</Link> \n                </NavLink>\n              </NavItem>\n              <NavItem>\n                <NavLink>\n                  <Link to={`/admin/user/${Uid}/farms`}>{t('farms')}</Link>\n                </NavLink>\n              </NavItem>\n              <NavItem>\n                <NavLink>\n                  <Link to={`/admin/user/${Uid}/fields`}>{t('fields')}</Link>\n                </NavLink>\n              </NavItem>\n              <NavItem>\n                <NavLink  active>\n                  {('sensors')}\n                </NavLink>\n              </NavItem>\n        </Nav>\n        <Row noGutters className=\"page-header py-4\">\n          <PageTitle subtitle={t('sensors')} md=\"12\" className=\"ml-sm-auto mr-sm-auto\" />\n        </Row>\n        <Card>\n          <SensorList sensorsData={sensors} Sensors={getSensorsByUser} />\n          \n        </Card>\n        <Row noGutters className=\"page-header py-4\">\n          <PageTitle subtitle={t('add_sensor')} md=\"12\" className=\"ml-sm-auto mr-sm-auto\" />\n        </Row>\n        <Card small className=\"h-100\">\n          <CardHeader className=\"border-bottom\">\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"flex-start\",\n                width: \"auto\",\n                float: \"left\"\n              }}\n            >\n              <h6 className=\"m-0\">{t('sensor_setup')}</h6>{\" \"}\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n\n              }}\n            >\n              <Button\n                // theme=\"success\"\n                className=\"mb-2 mr-1 btn btn-success\"\n                onClick={addSensor}\n              >\n                <i class={`fa fa-check mx-2`}></i>\n                {t('save')}\n              </Button>\n              <Button\n                // theme=\"success\"\n                className=\"mb-2 mr-1 btn btn-danger\"\n              >\n                <i class={`fa fa-times mx-2`}></i>\n                {t('cancel')}\n              </Button>\n            </div>\n          </CardHeader>\n          <CardBody className=\"pt-0\">\n            <div\n              style={{\n                display: \"flex\",\n                marginTop: \"20px\",\n                flexWrap: \"wrap\"\n              }}\n            >\n              <Col lg=\"4\" sm=\"12\" md=\"6\">\n                <Form>\n                  <Row form>\n                    <Col md=\"12\" className=\"form-group\">\n                      <p style={{ margin: \"0px\" }}>{t('sensor_code')}</p>\n                      <FormInput\n                        placeholder={t('sensor_code')}\n                        value={resultScan}\n                        onChange={(e) => setResultScan(e.target.value)}\n                        required\n\n                      />\n\n                    </Col>\n                    <Col md=\"6\" className=\"form-group\">\n                      <p style={{ margin: \"0px\" }}>{t('name_field')}</p>\n                      <FormSelect\n                        placeholder={t('name_field')}\n                        required\n                        value={fieldUid}\n                        onChange={(e) => setFieldUid(e.target.value)}\n                      >\n                        {\n                          fields.map((item, indx) => {\n                            return <option value={item.Uid}>{item.title}</option>\n                          })\n                        }\n                      </FormSelect>\n                    </Col>\n                    {/* <Col md=\"6\" className=\"form-group\">\n                      <p style={{ margin: \"0px\" }}>{t('name_zone')}</p>\n                      <FormSelect\n                        placeholder={t('zone_name')}\n\n                      >\n                        <option value=\"\">{t('select_zone')}</option>\n                      </FormSelect>\n                    </Col> */}\n                  </Row>\n                  <FormGroup>\n                    <p style={{ margin: \"0px\" }}>{t('desc')}</p>\n                    <textarea\n                      style={{ height: \"220px\" }}\n                      class=\"form-control\"\n                      placeholder={t('desc')}\n                    ></textarea>\n                  </FormGroup>\n                </Form>\n              </Col>\n              <Col lg=\"8\" md=\"12\" sm=\"12\" className=\"mb-4\">\n                <div>\n                  <h3>{t('scan_qrcode_sensor')}</h3>\n                  <Html5QrcodePlugin\n                    fps={10}\n                    qrbox={250}\n                    disableFlip={true}\n                    rememberLastUsedCamera={false}\n                    qrCodeSuccessCallback={onNewScanResult}\n\n                  />\n                </div>\n              </Col>\n            </div>\n          </CardBody>\n        </Card>\n      </Container>\n    </>\n  )\n\n}\n\nexport default SensorsList"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,SAAf,QAAgC,kBAAhC;AACA,OAAOC,GAAP,MAAgB,YAAhB;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCC,SAApC,EAA+CC,IAA/C,EAAqDC,SAArD,EAAgEC,UAAhE,EAA4EC,KAA5E,EAAmFC,WAAnF,EAAgGC,SAAhG,EAA2GC,MAA3G,EAAmHC,WAAnH,EAAgIC,QAAhI,EAA0IC,UAA1I,EAAqJC,GAArJ,EAAyJC,OAAzJ,EAAiKC,OAAjK,QAAiL,cAAjL;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,iBAAP,MAA8B,4BAA9B;AACA,OAAOC,UAAP,MAAuB,qBAAvB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;EAAA,sBAEJJ,cAAc,EAFV;EAAA,IAEhBK,CAFgB,mBAEhBA,CAFgB;EAAA,IAEbC,IAFa,mBAEbA,IAFa;;EAAA,gBAIgB7B,QAAQ,CAAC,EAAD,CAJxB;EAAA;EAAA,IAIjB8B,YAJiB;EAAA,IAIHC,eAJG;;EAAA,iBAKI/B,QAAQ,CAAC,KAAD,CALZ;EAAA;EAAA,IAKjBgC,MALiB;EAAA,IAKTC,SALS;;EAQxB,IAAMC,MAAM,GAAGhC,SAAS,EAAxB;;EARwB,iBASMF,QAAQ,CAAC,EAAD,CATd;EAAA;EAAA,IASjBmC,OATiB;EAAA,IASRC,UATQ;;EAAA,iBAUYpC,QAAQ,CAAC,EAAD,CAVpB;EAAA;EAAA,IAUjBqC,UAViB;EAAA,IAULC,aAVK;;EAAA,iBAWOtC,QAAQ,CAAC,EAAD,CAXf;EAAA;EAAA,IAWjBuC,WAXiB;EAAA,IAWJC,OAXI;;EAAA,kBAYQxC,QAAQ,CAAC,EAAD,CAZhB;EAAA;EAAA,IAYjByC,QAZiB;EAAA,IAYPC,WAZO;;EAcxB,IAAIC,GAAG,GAAGT,MAAM,CAACU,GAAjB;EAEA7C,SAAS,CAAC,YAAM;IACd8C,gBAAgB;EACjB,CAFQ,EAEN,EAFM,CAAT;;EAIA,IAAMA,gBAAgB;IAAA,oEAAG;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACjB1C,GAAG,CAAC2C,GAAJ,uBAAuBH,GAAvB,eACHI,IADG,CACE,UAAAC,GAAG,EAAI;gBACX,IAAIC,WAAW,GAAGD,GAAG,CAACE,IAAJ,CAASf,OAA3B;gBACAC,UAAU,CAACa,WAAD,CAAV;cACD,CAJG,EAIDE,KAJC,CAIK,UAAAC,KAAK,EAAI;gBAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;cAED,CAPG,CADiB;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAhBP,gBAAgB;MAAA;IAAA;EAAA,GAAtB;;EApBwB,kBA8BI7C,QAAQ,CAAC,EAAD,CA9BZ;EAAA;EAAA,IA8BjBuD,MA9BiB;EAAA,IA8BTC,SA9BS;;EAAA,kBA+BExD,QAAQ,CAAC,EAAD,CA/BV;EAAA;EAAA,IA+BjByD,KA/BiB;EAAA,IA+BVC,QA/BU;;EAiCxB,IAAMC,eAAe;IAAA,qEAAG;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OAChBxD,GAAG,CAAC2C,GAAJ,uBAAuBH,GAAvB,cACHI,IADG,CACE,UAAAa,QAAQ,EAAI;gBAChB,IAAIA,QAAQ,CAACV,IAAT,CAAcW,IAAd,KAAuB,SAA3B,EAAsC;kBACpC,IAAIC,SAAS,GAAGF,QAAQ,CAACV,IAAT,CAAcO,KAA9B;kBACAC,QAAQ,CAACI,SAAD,CAAR;gBACD;cAEF,CAPG,EAODX,KAPC,CAOK,UAAAC,KAAK,EAAI;gBAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;cACD,CATG,CADgB;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAfO,eAAe;MAAA;IAAA;EAAA,GAArB;;EAaA,IAAMI,SAAS,GAAG,SAAZA,SAAY,GAAM;IACtB,IAAIC,MAAM,GAAG,EAAb;IACAP,KAAK,CAACQ,GAAN,CAAU,UAAAC,IAAI,EAAI;MAChB,IAAIX,MAAM,GAAGW,IAAI,CAACX,MAAlB;;MACA,IAAIA,MAAJ,EAAY;QACVA,MAAM,CAACU,GAAP,CAAW,UAAAE,KAAK,EAAI;UAClBH,MAAM,CAACI,IAAP,CAAY;YACVC,KAAK,EAAEF,KAAK,CAACG,IADH;YAEVC,MAAM,EAAEJ,KAAK,CAACI,MAFJ;YAGVhC,WAAW,EAAE4B,KAAK,CAAC5B,WAHT;YAIVI,GAAG,EAAEwB,KAAK,CAACvB,GAJD;YAKV4B,OAAO,EAAEL,KAAK,CAACK,OALL;YAMVC,EAAE,EAAEN,KAAK,CAACO;UANA,CAAZ;QAQD,CATD;MAUD;IACF,CAdD;IAeAlB,SAAS,CAACQ,MAAD,CAAT;EACD,CAlBD;;EAmBAjE,SAAS,CAAC,YAAM;IACd4D,eAAe;EAChB,CAFQ,EAEN,EAFM,CAAT;EAIA5D,SAAS,CAAC,YAAM;IACdgE,SAAS;EACV,CAFQ,EAEN,CAACN,KAAD,CAFM,CAAT;;EAIA,IAAMkB,eAAe,GAAG,SAAlBA,eAAkB,CAACC,WAAD,EAAcC,aAAd,EAAgC;IACtDvC,aAAa,CAACsC,WAAD,CAAb,CADsD,CAGtD;EACD,CAJD;;EAOA,IAAME,eAAe;IAAA,qEAAG,kBAAOC,SAAP;MAAA;MAAA;QAAA;UAAA;YAAA;cAElB7B,IAFkB,GAEX;gBACT8B,UAAU,EAAED,SADH;gBAETE,QAAQ,EAAEtC;cAFD,CAFW;cAAA;cAAA,OAQhBxC,GAAG,CAAC+E,IAAJ,CAAS,sBAAT,EAAiChC,IAAjC,EACHH,IADG,CACE,UAAAC,GAAG,EAAI;gBACX,IAAImC,UAAU,GAAGnC,GAAG,CAACE,IAAJ,CAASkC,MAA1B;gBACArD,eAAe,CAACoD,UAAD,CAAf;gBACA7C,aAAa,CAAC6C,UAAU,CAAC,CAAD,CAAV,CAAcE,IAAf,CAAb;gBACA7C,OAAO,CAAC2C,UAAU,CAAC,CAAD,CAAV,CAAc5C,WAAf,CAAP;cACD,CANG,EAMDY,KANC,CAMK,UAAAC,KAAK,EAAI;gBAChB5B,IAAI,CAAC;kBACH6C,KAAK,EAAE,OADJ;kBAEHiB,IAAI,EAAE;gBAFH,CAAD,CAAJ;cAMD,CAbG,CARgB;;YAAA;cAsBtBrD,SAAS,CAAC,CAACD,MAAF,CAAT;;YAtBsB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAf8C,eAAe;MAAA;IAAA;EAAA,GAArB;;EA2BA,IAAMS,YAAY;IAAA,qEAAG,kBAAMR,SAAN;MAAA;MAAA;QAAA;UAAA;YAAA;cACf7B,IADe,GACR;gBACT8B,UAAU,EAAED;cADH,CADQ;cAAA;cAAA,OAIb5E,GAAG,CAACqF,MAAJ,CAAW,sBAAX,EAAmC;gBAAEtC,IAAI,EAAEA;cAAR,CAAnC,EACHH,IADG,CACE,UAAAa,QAAQ,EAAI;gBAChB,IAAIA,QAAQ,CAACV,IAAT,CAAcW,IAAd,IAAsBD,QAAQ,CAACV,IAAT,CAAcW,IAAd,IAAsB,QAAhD,EAA0D;kBACxDrC,IAAI,CAAC;oBACH6C,KAAK,YAAKzC,CAAC,CAAC,eAAD,CAAN,CADF;oBAEH0D,IAAI,EAAE;kBAFH,CAAD,CAAJ;gBAID;;gBACD,IAAI1B,QAAQ,CAACV,IAAT,CAAcW,IAAd,IAAsB,SAA1B,EAAqC;kBACnChB,gBAAgB;gBAEjB;cACF,CAZG,EAYDM,KAZC,CAYK,UAAAC,KAAK,EAAI;gBAChB5B,IAAI,CAAC;kBACH6C,KAAK,YAAKzC,CAAC,CAAC,eAAD,CAAN,CADF;kBAEH0D,IAAI,EAAE,OAFH;kBAGHG,IAAI,EAAE;gBAHH,CAAD,CAAJ;cAMD,CAnBG,CAJa;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAZF,YAAY;MAAA;IAAA;EAAA,GAAlB;;EA4BA,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAAAX,SAAS,EAAI;IAEjCvD,IAAI,CAAC;MACH6C,KAAK,YAAKzC,CAAC,CAAC,cAAD,CAAN,CADF;MAEH6D,IAAI,YAAK7D,CAAC,CAAC,gBAAD,CAAN,CAFD;MAGH0D,IAAI,EAAE,SAHH;MAIHK,OAAO,EAAE,IAJN;MAKHC,UAAU,EAAE;IALT,CAAD,CAAJ,CAOG7C,IAPH,CAOQ,UAAC8C,MAAD,EAAY;MAChB,IAAIA,MAAJ,EAAY;QACVN,YAAY,CAACR,SAAD,CAAZ;QACAvD,IAAI,CAAC,2BAAD,EAA8B;UAChC8D,IAAI,EAAE;QAD0B,CAA9B,CAAJ;MAGD;IACF,CAdH,EAcKnC,KAdL,CAcW,UAAAC,KAAK,EAAI;MAChB5B,IAAI,CAAC;QACH6C,KAAK,EAAE,sBADJ;QAEHiB,IAAI,EAAE,OAFH;QAGHG,IAAI,EAAE;MAHH,CAAD,CAAJ;IAMD,CArBH;EAuBD,CAzBD;;EA2BA,IAAMK,SAAS;IAAA,qEAAG;MAAA;MAAA;QAAA;UAAA;YAAA;cAEZ5C,IAFY,GAEL;gBACTmC,IAAI,EAAEhD,UADG;gBAETE,WAAW,EAAEA,WAFJ;gBAGT0C,QAAQ,EAAEtC,GAHD;gBAIToD,SAAS,EAAEtD;cAJF,CAFK;cAAA;cAAA,OAQVtC,GAAG,CAAC+E,IAAJ,CAAS,mBAAT,EAA8BhC,IAA9B,EACHH,IADG,CACE,UAAAa,QAAQ,EAAI;gBAChB,IAAIA,QAAQ,CAACV,IAAT,CAAcW,IAAd,KAAuB,SAA3B,EAAsC;kBACpCrC,IAAI,CAAC,cAAD,EAAiB;oBAAE8D,IAAI,EAAE;kBAAR,CAAjB,CAAJ;kBACAzC,gBAAgB;kBAChBP,aAAa,CAAC,EAAD,CAAb;kBACAE,OAAO,CAAC,EAAD,CAAP;gBACD;cACF,CARG,EAQDW,KARC,CAQK,UAAA6C,GAAG,EAAI;gBACdxE,IAAI,CAACwE,GAAD,EAAM;kBAAEV,IAAI,EAAE;gBAAR,CAAN,CAAJ;cACD,CAVG,CARU;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAATQ,SAAS;MAAA;IAAA;EAAA,GAAf;;EAsBA,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAAClB,SAAD,EAAe;IAEhC,IAAI7B,IAAI,GAAG;MACTmC,IAAI,EAAEhD,UADG;MAETE,WAAW,EAAEA,WAFJ;MAGT0C,QAAQ,EAAEtC,GAHD;MAITqC,UAAU,EAAED;IAJH,CAAX;IASA5E,GAAG,CAAC+E,IAAJ,CAAS,oBAAT,EAA+BhC,IAA/B,EACGH,IADH,CACQ,UAAAa,QAAQ,EAAI;MAChB,IAAIA,QAAQ,CAACV,IAAT,CAAcW,IAAd,IAAsB,SAA1B,EAAqC;QACnCrC,IAAI,CAAC,0BAAD,EAA6B;UAC/B8D,IAAI,EAAE;QADyB,CAA7B,CAAJ;QAGArD,SAAS,CAAC,KAAD,CAAT;QACAY,gBAAgB;MACjB;;MACD,IAAIe,QAAQ,CAACV,IAAT,CAAcW,IAAd,IAAsBD,QAAQ,CAACV,IAAT,CAAcW,IAAd,IAAsB,QAAhD,EAA0D;QACxDrC,IAAI,CAAC;UACH8D,IAAI,EAAE,OADH;UAEHjB,KAAK,EAAE,SAFJ;UAGHoB,IAAI,EAAE;QAHH,CAAD,CAAJ;QAKA,OAAO,KAAP;MACD;IACF,CAjBH,EAiBKtC,KAjBL,CAiBW,UAAAC,KAAK,EAAI;MAChB5B,IAAI,CAAC;QACH8D,IAAI,EAAE,OADH;QAEHjB,KAAK,EAAE,SAFJ;QAGHoB,IAAI,EAAE;MAHH,CAAD,CAAJ;IAKD,CAvBH;EA0BD,CArCD;;EAwCA,oBACE,uDACE,oBAAC,SAAD;IAAW,SAAS,EAAC,MAArB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACA,oBAAC,GAAD;IAAK,SAAS,MAAd;IAAe,KAAK,MAApB;IAAqB,SAAS,EAAC,UAA/B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACQ,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,IAAD;IAAM,EAAE,wBAAiB9C,GAAjB,CAAR;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAiCf,CAAC,CAAC,SAAD,CAAlC,CADF,CADF,CADR,eAMQ,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,IAAD;IAAM,EAAE,wBAAiBe,GAAjB,WAAR;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAuCf,CAAC,CAAC,OAAD,CAAxC,CADF,CADF,CANR,eAWQ,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,IAAD;IAAM,EAAE,wBAAiBe,GAAjB,YAAR;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAwCf,CAAC,CAAC,QAAD,CAAzC,CADF,CADF,CAXR,eAgBQ,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,OAAD;IAAU,MAAM,MAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACI,SADJ,CADF,CAhBR,CADA,eAuBE,oBAAC,GAAD;IAAK,SAAS,MAAd;IAAe,SAAS,EAAC,kBAAzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,SAAD;IAAW,QAAQ,EAAEA,CAAC,CAAC,SAAD,CAAtB;IAAmC,EAAE,EAAC,IAAtC;IAA2C,SAAS,EAAC,uBAArD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CAvBF,eA0BE,oBAAC,IAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,UAAD;IAAY,WAAW,EAAEO,OAAzB;IAAkC,OAAO,EAAEU,gBAA3C;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CA1BF,eA8BE,oBAAC,GAAD;IAAK,SAAS,MAAd;IAAe,SAAS,EAAC,kBAAzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,SAAD;IAAW,QAAQ,EAAEjB,CAAC,CAAC,YAAD,CAAtB;IAAsC,EAAE,EAAC,IAAzC;IAA8C,SAAS,EAAC,uBAAxD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CA9BF,eAiCE,oBAAC,IAAD;IAAM,KAAK,MAAX;IAAY,SAAS,EAAC,OAAtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,UAAD;IAAY,SAAS,EAAC,eAAtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IACE,KAAK,EAAE;MACLsE,OAAO,EAAE,MADJ;MAELC,cAAc,EAAE,YAFX;MAGLC,KAAK,EAAE,MAHF;MAILC,KAAK,EAAE;IAJF,CADT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAQE;IAAI,SAAS,EAAC,KAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAqBzE,CAAC,CAAC,cAAD,CAAtB,CARF,EAQ+C,GAR/C,CADF,eAWE;IACE,KAAK,EAAE;MACLsE,OAAO,EAAE,MADJ;MAELC,cAAc,EAAE;IAFX,CADT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAOE,oBAAC,MAAD,CACE;EADF;IAEE,SAAS,EAAC,2BAFZ;IAGE,OAAO,EAAEL,SAHX;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAKE;IAAG,KAAK,oBAAR;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EALF,EAMGlE,CAAC,CAAC,MAAD,CANJ,CAPF,eAeE,oBAAC,MAAD,CACE;EADF;IAEE,SAAS,EAAC,0BAFZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAIE;IAAG,KAAK,oBAAR;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAJF,EAKGA,CAAC,CAAC,QAAD,CALJ,CAfF,CAXF,CADF,eAoCE,oBAAC,QAAD;IAAU,SAAS,EAAC,MAApB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IACE,KAAK,EAAE;MACLsE,OAAO,EAAE,MADJ;MAELI,SAAS,EAAE,MAFN;MAGLC,QAAQ,EAAE;IAHL,CADT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAOE,oBAAC,GAAD;IAAK,EAAE,EAAC,GAAR;IAAY,EAAE,EAAC,IAAf;IAAoB,EAAE,EAAC,GAAvB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,IAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,GAAD;IAAK,IAAI,MAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,GAAD;IAAK,EAAE,EAAC,IAAR;IAAa,SAAS,EAAC,YAAvB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAG,KAAK,EAAE;MAAEC,MAAM,EAAE;IAAV,CAAV;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAA8B5E,CAAC,CAAC,aAAD,CAA/B,CADF,eAEE,oBAAC,SAAD;IACE,WAAW,EAAEA,CAAC,CAAC,aAAD,CADhB;IAEE,KAAK,EAAES,UAFT;IAGE,QAAQ,EAAE,kBAACoE,CAAD;MAAA,OAAOnE,aAAa,CAACmE,CAAC,CAACC,MAAF,CAASC,KAAV,CAApB;IAAA,CAHZ;IAIE,QAAQ,MAJV;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,CADF,eAYE,oBAAC,GAAD;IAAK,EAAE,EAAC,GAAR;IAAY,SAAS,EAAC,YAAtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAG,KAAK,EAAE;MAAEH,MAAM,EAAE;IAAV,CAAV;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAA8B5E,CAAC,CAAC,YAAD,CAA/B,CADF,eAEE,oBAAC,UAAD;IACE,WAAW,EAAEA,CAAC,CAAC,YAAD,CADhB;IAEE,QAAQ,MAFV;IAGE,KAAK,EAAEa,QAHT;IAIE,QAAQ,EAAE,kBAACgE,CAAD;MAAA,OAAO/D,WAAW,CAAC+D,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;IAAA,CAJZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAOIpD,MAAM,CAACU,GAAP,CAAW,UAACC,IAAD,EAAO0C,IAAP,EAAgB;IACzB,oBAAO;MAAQ,KAAK,EAAE1C,IAAI,CAACvB,GAApB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAA0BuB,IAAI,CAACG,KAA/B,CAAP;EACD,CAFD,CAPJ,CAFF,CAZF,CADF,eAsCE,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAG,KAAK,EAAE;MAAEmC,MAAM,EAAE;IAAV,CAAV;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAA8B5E,CAAC,CAAC,MAAD,CAA/B,CADF,eAEE;IACE,KAAK,EAAE;MAAEiF,MAAM,EAAE;IAAV,CADT;IAEE,KAAK,EAAC,cAFR;IAGE,WAAW,EAAEjF,CAAC,CAAC,MAAD,CAHhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,CAtCF,CADF,CAPF,eAwDE,oBAAC,GAAD;IAAK,EAAE,EAAC,GAAR;IAAY,EAAE,EAAC,IAAf;IAAoB,EAAE,EAAC,IAAvB;IAA4B,SAAS,EAAC,MAAtC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAKA,CAAC,CAAC,oBAAD,CAAN,CADF,eAEE,oBAAC,iBAAD;IACE,GAAG,EAAE,EADP;IAEE,KAAK,EAAE,GAFT;IAGE,WAAW,EAAE,IAHf;IAIE,sBAAsB,EAAE,KAJ1B;IAKE,qBAAqB,EAAE+C,eALzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,CADF,CAxDF,CADF,CApCF,CAjCF,CADF,CADF;AAoJD,CApXD;;AAsXA,eAAehD,WAAf"},"metadata":{},"sourceType":"module"}