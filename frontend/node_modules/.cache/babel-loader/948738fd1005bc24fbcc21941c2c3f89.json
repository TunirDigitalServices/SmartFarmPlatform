{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\backoffice v2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\backoffice v2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\backoffice v2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\backoffice v2\\\\frontend\\\\src\\\\views\\\\Reports.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Row, Col, FormGroup, Form, FormInput, Container, Card, CardHeader, FormSelect, Nav, NavItem, NavLink } from 'shards-react';\nimport PageTitle from '../components/common/PageTitle';\nimport { useTranslation } from \"react-i18next\";\nimport api from '../api/api';\n\nvar Reports = function Reports() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      listFields = _useState2[0],\n      setListFields = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedField = _useState4[0],\n      setSelectedField = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedRange = _useState6[0],\n      setSelectedRange = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      listReports = _useState8[0],\n      setListReports = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      filename = _useState10[0],\n      setFileName = _useState10[1];\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      users = _useState12[0],\n      setUsers = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      farms = _useState14[0],\n      setFarms = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      fields = _useState16[0],\n      setFields = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      reports = _useState18[0],\n      setReports = _useState18[1];\n\n  var role = JSON.parse(localStorage.getItem('user')).role;\n  useEffect(function () {\n    var getListFields = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return api.get('/field/fields').then(function (response) {\n                  var fields = [];\n                  var reports = [];\n                  var result = response.data.farms;\n\n                  if (result) {\n                    result.map(function (farms) {\n                      var fieldData = farms.fields;\n\n                      if (fieldData) {\n                        fieldData.map(function (field) {\n                          fields.push({\n                            id: field.id,\n                            name: field.name\n                          });\n                          var reportsData = field.reports;\n\n                          if (reportsData) {\n                            reportsData.map(function (item) {\n                              reports.push({\n                                id: item.id,\n                                fieldId: item.field_id,\n                                file: item.filename\n                              });\n                            });\n                          }\n                        });\n                      }\n                    });\n                    setListReports(reports);\n                    setListFields(fields);\n                    console.log(fields.length);\n\n                    if (fields.length > 0) {\n                      setSelectedField(fields[0].id);\n                    }\n                  }\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 5]]);\n      }));\n\n      return function getListFields() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var getMyUsers = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return api.get('/supplier/get-users').then(function (response) {\n                  var usersList = response.data.users;\n                  setUsers(usersList);\n                  var Fields = [];\n                  var Reports = [];\n\n                  if (usersList.length > 0) {\n                    usersList.map(function (data) {\n                      var farmsList = data.farms;\n\n                      if (farmsList.length > 0) {\n                        setFarms(farmsList);\n                        farmsList.map(function (farm) {\n                          var fieldsList = farm.fields;\n\n                          if (fieldsList.length > 0) {\n                            fieldsList.map(function (field) {\n                              Fields.push({\n                                id: field.id,\n                                uid: field.uid,\n                                farmId: field.farm_id,\n                                name: field.name,\n                                Latitude: field.Latitude,\n                                Longitude: field.Longitude,\n                                status: field.status\n                              });\n                              var reportsList = field.reports;\n\n                              if (reportsList.length > 0) {\n                                reportsList.map(function (sensor) {\n                                  Reports.push({\n                                    fieldId: sensor.field_id,\n                                    filename: sensor.filename,\n                                    userId: sensor.user_id\n                                  });\n                                });\n                              }\n                            });\n                          }\n                        });\n                      }\n                    });\n                    setFields(Fields);\n                    setReports(Reports);\n                  }\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function getMyUsers() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    getMyUsers();\n    getListFields();\n  }, []);\n  console.log(reports);\n  console.log(fields);\n  var selectSearch = [{\n    value: 'week',\n    label: 'Last week'\n  }, {\n    value: 'custom',\n    label: 'Custom Range'\n  }];\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(file) {\n      var data, response, blob, url, a;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              data = {\n                filename: file\n              };\n              _context3.next = 4;\n              return api.post('/report/download', data, {\n                responseType: 'blob'\n              });\n\n            case 4:\n              response = _context3.sent;\n\n              if (response.data instanceof Blob) {\n                _context3.next = 8;\n                break;\n              }\n\n              console.error('Invalid response data. Expected Blob.');\n              return _context3.abrupt(\"return\");\n\n            case 8:\n              blob = new Blob([response.data], {\n                type: 'application/pdf'\n              });\n              url = URL.createObjectURL(blob);\n              a = document.createElement('a');\n              a.href = url;\n              a.download = 'historique.pdf';\n              document.body.appendChild(a);\n              a.click();\n              _context3.next = 20;\n              break;\n\n            case 17:\n              _context3.prev = 17;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.error('Error downloading report:', _context3.t0);\n\n            case 20:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 17]]);\n    }));\n\n    return function handleClick(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var filterReport = listReports.filter(function (report) {\n    if (selectedField !== \"\") {\n      return selectedField == report.fieldId;\n    }\n  });\n  var filterAllReports = reports.filter(function (report) {\n    if (selectedField !== \"\") {\n      return selectedField == report.fieldId;\n    }\n  });\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"main-content-container p-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"page-header py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    sm: \"4\",\n    title: \"Reports\",\n    subtitle: t('overview'),\n    className: \"text-sm-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"4\",\n    md: \"12\",\n    sm: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 29\n    }\n  }, \"Fields\"), /*#__PURE__*/React.createElement(FormSelect, {\n    value: selectedField,\n    onChange: function onChange(e) {\n      return setSelectedField(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 33\n    }\n  }, \"Select Field\"), listFields.map(function (field) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: field.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 45\n      }\n    }, field.name);\n  })))), role === \"ROLE_SUPPLIER\" ? /*#__PURE__*/React.createElement(Col, {\n    lg: \"4\",\n    md: \"12\",\n    sm: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 41\n    }\n  }, \"Clients Fields\"), /*#__PURE__*/React.createElement(FormSelect, {\n    value: selectedField,\n    onChange: function onChange(e) {\n      return setSelectedField(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 45\n    }\n  }, \"Select Field\"), fields.map(function (field) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: field.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 57\n      }\n    }, field.name);\n  })))) : null, /*#__PURE__*/React.createElement(Col, {\n    lg: \"4\",\n    md: \"12\",\n    sm: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 37\n    }\n  }, \"Report Period\"), /*#__PURE__*/React.createElement(FormSelect, {\n    value: selectedRange,\n    onChange: function onChange(e) {\n      return setSelectedRange(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 41\n    }\n  }, \"Select Period\"), selectSearch.map(function (_ref4) {\n    var value = _ref4.value,\n        label = _ref4.label;\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: value,\n      value: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 49\n      }\n    }, label);\n  }))), selectedRange === \"custom\" ? /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"0px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 45\n    }\n  }, t('start_date')), /*#__PURE__*/React.createElement(FormInput, {\n    type: \"datetime-local\",\n    placeholder: \"Start Date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"0px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 45\n    }\n  }, t('end_date')), /*#__PURE__*/React.createElement(FormInput, {\n    type: \"datetime-local\",\n    placeholder: \"End Date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 45\n    }\n  })) : null)), /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 25\n    }\n  }, \"My Reports\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"p-2 m-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    md: \"12\",\n    sm: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 25\n    }\n  }, filterReport.map(function (report) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center m-1\",\n      style: {\n        border: \"1px solid #eee\",\n        borderRadius: 12,\n        padding: 5\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 37\n      }\n    }, \"\\u25BA Field Report \", report.file.slice(37, 58)), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        background: \"none\",\n        border: \"none\",\n        outline: \"none\",\n        padding: 8,\n        margin: 5\n      },\n      onClick: function onClick() {\n        return handleClick(report.file);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 37\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      style: {\n        fontSize: \"28px\",\n        color: \"#27A6B9\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 164\n      }\n    }, \"\\uF000\"), \" \"));\n  }))), role === \"ROLE_SUPPLIER\" ? /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    md: \"12\",\n    sm: \"12\",\n    className: \"border-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 33\n    }\n  }, \"Clients Reports\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 37\n    }\n  }, filterAllReports.map(function (report) {\n    var userName = \"\";\n    users.map(function (user) {\n      if (user.id === report.userId) {\n        userName = user.name;\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center m-1\",\n      style: {\n        border: \"1px solid #eee\",\n        borderRadius: 12,\n        padding: 5\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 49\n      }\n    }, \"\\u25BA \", userName, \" Field Report \", report.filename.slice(37, 58)), /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        background: \"none\",\n        border: \"none\",\n        outline: \"none\",\n        padding: 8,\n        margin: 5\n      },\n      onClick: function onClick() {\n        return handleClick(report.filename);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 49\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      style: {\n        fontSize: \"28px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 180\n      }\n    }, \"\\uF000\"), \" \"));\n  }))) : null)));\n};\n\nexport default Reports;","map":{"version":3,"names":["React","useEffect","useState","Button","Row","Col","FormGroup","Form","FormInput","Container","Card","CardHeader","FormSelect","Nav","NavItem","NavLink","PageTitle","useTranslation","api","Reports","listFields","setListFields","selectedField","setSelectedField","selectedRange","setSelectedRange","listReports","setListReports","filename","setFileName","t","i18n","users","setUsers","farms","setFarms","fields","setFields","reports","setReports","role","JSON","parse","localStorage","getItem","getListFields","get","then","response","result","data","map","fieldData","field","push","id","name","reportsData","item","fieldId","field_id","file","console","log","length","catch","err","getMyUsers","usersList","Fields","farmsList","farm","fieldsList","uid","farmId","farm_id","Latitude","Longitude","status","reportsList","sensor","userId","user_id","selectSearch","value","label","handleClick","post","responseType","Blob","error","blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","filterReport","filter","report","filterAllReports","e","target","margin","border","borderRadius","padding","slice","background","outline","fontSize","color","userName","user"],"sources":["C:/professional/2K Media/II.develepment/smart farm/backoffice v2/frontend/src/views/Reports.js"],"sourcesContent":["import React,{useEffect,useState} from 'react'\nimport { Button, Row, Col, FormGroup, Form, FormInput, Container, Card,CardHeader, FormSelect, Nav, NavItem, NavLink } from 'shards-react'\nimport PageTitle from '../components/common/PageTitle'\nimport { useTranslation } from \"react-i18next\";\nimport api from '../api/api';\n\nconst Reports = () => {\n\n    const [listFields,setListFields] = useState([])\n    const [selectedField,setSelectedField] = useState('')\n    const [selectedRange,setSelectedRange] = useState('')\n    const [listReports,setListReports] = useState([])\n    const [filename,setFileName] = useState('')\n    const { t, i18n } = useTranslation();\n    const [users,setUsers] = useState([])\n    const [farms,setFarms] = useState([])\n    const [fields,setFields] = useState([])\n    const [reports,setReports] = useState([])\n\n    let role = JSON.parse(localStorage.getItem('user')).role\n\n    useEffect(()=>{\n\n            const getListFields = async () => {\n        try {\n              await api.get('/field/fields')\n              .then(response=>{\n                    let fields = [] \n                    let reports = []\n                      let result = response.data.farms\n                    if(result) {\n                        result.map(farms=> {\n                            let fieldData = farms.fields \n                                if(fieldData){\n                                    fieldData.map(field=>{\n                                        fields.push({\n                                            id : field.id,\n                                            name : field.name,\n                                        })\n                                       let reportsData = field.reports\n                                        if(reportsData){\n                                            reportsData.map(item=>{\n                                                reports.push({\n                                                    id : item.id,\n                                                    fieldId : item.field_id,\n                                                    file : item.filename\n                                                })\n                                            })\n                                        }\n                                    })\n                                }\n                        })                       \n                        setListReports(reports)\n                        setListFields(fields)\n                        console.log(fields.length)\n                        if(fields.length > 0){\n                            setSelectedField(fields[0].id)    \n\n                        }\n                    }\n              }).catch(err=>{\n                    console.log(err)\n              })\n        } catch (error) {\n            console.log(error)\n        }\n                }\n                const getMyUsers = async () => {\n                    await api.get('/supplier/get-users')\n                    .then(response =>{\n                        let usersList = response.data.users\n                        setUsers(usersList)\n                        let Fields = []\n                        let Reports = []\n                        if(usersList.length > 0){\n                          usersList.map(data=>{\n                            let farmsList =  data.farms\n                            if(farmsList.length > 0){\n                              setFarms(farmsList)\n                                farmsList.map(farm=>{\n                                  let fieldsList = farm.fields\n                                      if(fieldsList.length > 0){\n                                        fieldsList.map(field=>{\n                                          Fields.push({\n                                            id : field.id,\n                                            uid:field.uid,\n                                            farmId :field.farm_id,\n                                            name : field.name,\n                                            Latitude: field.Latitude,\n                                            Longitude: field.Longitude,\n                                            status :field.status\n                                          })\n                                          let reportsList = field.reports\n                                          if(reportsList.length > 0){\n                                            reportsList.map(sensor=>{\n                                              Reports.push({\n                                                fieldId: sensor.field_id,\n                                                filename: sensor.filename,\n                                                userId: sensor.user_id\n                                              })\n                                            })\n                                          }\n                                        })\n                                      }\n              \n                                })\n                            }\n                            \n                          })\n                          setFields(Fields)\n                          setReports(Reports)\n              \n                        }\n                    }).catch(err =>{\n                        console.log(err)\n                    })\n                } \n            getMyUsers()\n            getListFields()\n        },[])\n        console.log(reports)\n        console.log(fields)\n        const selectSearch = [\n            { value: 'week', label: 'Last week' },\n            { value: 'custom', label: 'Custom Range' },\n        ];\n\n        const handleClick = async (file) => {\n            try {\n                let data = { filename: file };\n                const response = await api.post('/report/download', data, { responseType: 'blob' });\n        \n                // Check if the response is a valid Blob\n                if (!(response.data instanceof Blob)) {\n                    console.error('Invalid response data. Expected Blob.');\n                    return;\n                }\n        \n                const blob = new Blob([response.data], { type: 'application/pdf' });\n                const url = URL.createObjectURL(blob);\n                const a = document.createElement('a');\n                a.href = url;\n                a.download = 'historique.pdf';\n                document.body.appendChild(a);\n                a.click();\n            } catch (error) {\n                console.error('Error downloading report:', error);\n            }\n        };\n        \nconst filterReport = listReports.filter(report=>{\n    if(selectedField !== \"\"){\n        return selectedField == report.fieldId\n    }\n})\n\nconst filterAllReports = reports.filter(report=>{\n    if(selectedField !== \"\"){\n        return selectedField == report.fieldId\n    }\n})\n\n    return (\n        <Container fluid className=\"main-content-container p-4\">\n            <Row noGutters className=\"page-header py-4\">\n                <PageTitle\n                    sm=\"4\"\n                    title='Reports'\n                    subtitle={t('overview')}\n                    className=\"text-sm-left\"\n                />\n            </Row>\n                <Row>\n                    <Col lg='4' md=\"12\" sm=\"12\">\n                        <FormGroup>\n                            <label htmlFor=\"\">Fields</label>\n                            <FormSelect value={selectedField} onChange={(e) => setSelectedField(e.target.value)} >\n                                <option value=\"\">Select Field</option>\n                                    {\n                                        listFields.map(field=>(\n                                            <option value={field.id}>{field.name}</option>\n                                        ))\n                                    }\n                            </FormSelect>\n\n                        </FormGroup>   \n                    </Col>\n                    {\n                            role === \"ROLE_SUPPLIER\"\n                            ?\n                                <Col lg='4' md=\"12\" sm=\"12\">\n                                    <FormGroup>\n                                        <label htmlFor=\"\">Clients Fields</label>\n                                        <FormSelect value={selectedField} onChange={(e) => setSelectedField(e.target.value)} >\n                                            <option value=\"\">Select Field</option>\n                                                {\n                                                    fields.map(field=>(\n                                                        <option value={field.id}>{field.name}</option>\n                                                    ))\n                                                }\n                                        </FormSelect>\n\n                                    </FormGroup>   \n                                </Col>\n                            :\n                            null\n                        }\n                    <Col lg='4' md=\"12\" sm=\"12\">\n                     \n                                <FormGroup>\n                                    <label htmlFor=\"\">Report Period</label>\n                                    <FormSelect value={selectedRange} onChange={(e) => setSelectedRange(e.target.value)} >\n                                        <option value=\"\">Select Period</option>\n                                        {\n                                            selectSearch.map(({ value, label }) => (\n                                                <option key={value} value={value}>{label}</option>\n                                            ))\n                                        }\n                                    </FormSelect>\n\n                                </FormGroup>\n                                {\n                                    selectedRange === \"custom\"\n                                    ?\n                                        <FormGroup >\n                                            <p style={{ margin: \"0px\" }}>{t('start_date')}</p>\n                                            <FormInput\n                                                type=\"datetime-local\"\n                                                placeholder=\"Start Date\"\n\n                                            />\n                                            <p style={{ margin: \"0px\" }}>{t('end_date')}</p>\n                                            <FormInput\n                                                type=\"datetime-local\"\n                                                placeholder=\"End Date\"\n\n                                            />\n                                        </FormGroup>\n                                    :\n                                    null\n                                }\n                    </Col>\n                            \n                </Row>\n            <Card>\n                <CardHeader className=\"border-bottom\">\n                        <p>My Reports</p>\n\n                </CardHeader>\n                <Row className=\"p-2 m-2\">\n\n                    <Col lg='6' md='12' sm='12'>\n                       \n                        <div className='py-4'>\n                        {\n                            filterReport.map(report=>{\n                               return (\n                                <div className='d-flex justify-content-between align-items-center m-1' style={{border:\"1px solid #eee\",borderRadius:12,padding:5}}>\n                                    <h6>► Field Report {report.file.slice(37,58)}</h6>\n                                    <button style={{background:\"none\",border:\"none\",outline:\"none\",padding:8 ,margin:5}} onClick={() => handleClick(report.file)}> <i className='material-icons' style={{fontSize:\"28px\",color:\"#27A6B9\"}}>&#xf000;</i> </button>\n\n                                </div>\n                               )\n                            \n                            })\n                        }\n\n                        </div>\n                    </Col> \n                    {\n                            role === \"ROLE_SUPPLIER\"\n                            ?\n                                <Col lg='6' md='12' sm='12' className='border-left'>\n                                <p>Clients Reports</p>\n                                \n                                    <div className='py-4'>\n                                    {\n                                        filterAllReports.map(report=>{\n                                            let userName = \"\"\n                                            users.map(user=>{\n                                                if(user.id === report.userId){\n                                                    userName = user.name\n                                                }\n                                            })\n                                        return (\n                                            <div className='d-flex justify-content-between align-items-center m-1' style={{border:\"1px solid #eee\",borderRadius:12,padding:5}}>\n                                                <h6>► {userName} Field Report {report.filename.slice(37,58)}</h6>\n                                                <button style={{background:\"none\",border:\"none\",outline:\"none\",padding:8 ,margin:5}} onClick={() => handleClick(report.filename)}> <i className='material-icons' style={{fontSize:\"28px\"}}>&#xf000;</i> </button>\n\n                                            </div>\n                                        )\n                                        \n                                        })\n                                    }\n\n                                    </div>\n                                </Col>\n                            :\n                            null\n                    } \n                </Row>\n            </Card>\n        </Container>\n    )\n}\n\nexport default Reports"],"mappings":"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"},"metadata":{},"sourceType":"module"}