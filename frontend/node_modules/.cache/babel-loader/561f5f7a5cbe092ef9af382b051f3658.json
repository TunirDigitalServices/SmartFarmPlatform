{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\smartF back\\\\SmartFarmPlatform\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\smartF back\\\\SmartFarmPlatform\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\smartF back\\\\SmartFarmPlatform\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\smartF back\\\\SmartFarmPlatform\\\\frontend\\\\src\\\\views\\\\SatelliteImages.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Card, Form } from \"react-bootstrap\";\nimport PageTitle from \"../components/common/PageTitle\";\nimport { useTranslation } from \"react-i18next\";\nimport LeafletMap from \"./map\";\nimport { Line } from \"react-chartjs-2\";\nimport SatteliteMap from \"./SatteliteMap\";\nimport moment from \"moment\";\nimport api from \"../api/api\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { Box, LinearProgress } from \"@mui/material\";\nimport Button from \"@mui/material/Button\";\nimport SatelliteAltIcon from \"@mui/icons-material/SatelliteAlt\";\nimport ListAltIcon from \"@mui/icons-material/ListAlt\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport ndvi from \"../assets/images/NDVI.png\";\nimport ndwi from \"../assets/images/NDWI.png\";\nimport moisture from \"../assets/images/MOISTURE-INDEX.png\";\nimport swir from \"../assets/images/SWIR.png\";\nimport terrain from \"../assets/images/terrain.png\";\n\nvar SatelliteImages = function SatelliteImages() {\n  var _useState = useState({\n    Latitude: \"\",\n    Longitude: \"\",\n    zoom: \"\",\n    center: [],\n    fromAction: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      coords = _useState2[0],\n      setCoords = _useState2[1];\n\n  var _useState3 = useState({\n    zoom: \"\",\n    center: [],\n    fromAction: false,\n    draw: {\n      polygon: false,\n      circle: false,\n      rectangle: false,\n      polyline: false,\n      marker: false,\n      circlemarker: false\n    }\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mapConfig = _useState4[0],\n      setMapConfig = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dates = _useState6[0],\n      setDates = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      fields = _useState8[0],\n      setFields = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      farms = _useState10[0],\n      setFarms = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      selectedField = _useState12[0],\n      setSelectedField = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      satellitesImages = _useState14[0],\n      setSatellitesImages = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      selectedImages = _useState16[0],\n      setSelectedImages = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      dataDisplayed = _useState18[0],\n      setDataDisplayed = _useState18[1];\n\n  var _useState19 = useState([]),\n      _useState20 = _slicedToArray(_useState19, 2),\n      polygonDisplayed = _useState20[0],\n      setPolygonDisplayed = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      loadingImages = _useState22[0],\n      setLoadingImages = _useState22[1];\n\n  var _useState23 = useState(null),\n      _useState24 = _slicedToArray(_useState23, 2),\n      selectedImageUrl = _useState24[0],\n      setSelectedImageUrl = _useState24[1];\n\n  var _useState25 = useState(moment().format(\"D MMM YYYY\")),\n      _useState26 = _slicedToArray(_useState25, 2),\n      selectedDate = _useState26[0],\n      setSelectedDate = _useState26[1];\n\n  var getSatelliteImages = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var fieldId, userUid, coordinates, apiUrl, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoadingImages(true);\n              fieldId = selectedField[0].Id;\n              userUid = JSON.parse(localStorage.getItem(\"user\")).id;\n              coordinates = JSON.parse(selectedField[0].coordinates).map(function (elem) {\n                return [elem.Long, elem.Lat];\n              });\n              apiUrl = \"/add-satellite-images/\".concat(userUid, \"/\").concat(fieldId);\n              _context.next = 8;\n              return api.post(apiUrl, {\n                date: formatDate(selectedDate),\n                coordinates: coordinates\n              });\n\n            case 8:\n              response = _context.sent;\n              setSatellitesImages(response.data.images);\n              setLoadingImages(false);\n              _context.next = 17;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(\"API error:\", _context.t0);\n              setLoadingImages(false);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 13]]);\n    }));\n\n    return function getSatelliteImages() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  console.log(satellitesImages);\n  useEffect(function () {\n    var getDataFields = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return api.get(\"/field/fields\").then(function (res) {\n                  var newData = res.data.farms;\n                  setFarms(newData);\n                  var Fields = [];\n                  newData.map(function (item) {\n                    var fields = item.fields;\n\n                    if (fields) {\n                      fields.map(function (itemfield) {\n                        Fields.push({\n                          title: itemfield.name,\n                          status: itemfield.status,\n                          description: itemfield.description,\n                          Uid: itemfield.uid,\n                          farm_id: itemfield.farm_id,\n                          Latitude: itemfield.Latitude,\n                          Longitude: itemfield.Longitude,\n                          coordinates: itemfield.coordinates,\n                          Id: itemfield.id\n                        });\n                      });\n                    }\n                  });\n                  setFields(Fields);\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function getDataFields() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    getDataFields();\n  }, []);\n  useEffect(function () {\n    if (selectedField.length > 0) {\n      getSatelliteImages();\n    }\n  }, [selectedField, selectedDate]);\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var formatDate = function formatDate(dateString) {\n    // Parse the input date string using Moment.js\n    var parsedDate = moment(dateString, \"D MMM YYYY\"); // Format the date in the desired format (YYYY-MM-DD)\n\n    var formattedDate = parsedDate.format(\"YYYY-MM-DD\");\n    return formattedDate;\n  };\n\n  var handleDateClick = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(date) {\n      var formattedDate;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setSelectedDate(date);\n              formattedDate = formatDate(date);\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleDateClick(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var getSelectedField = function getSelectedField(e) {\n    var selectedId = e.target.value;\n    var selected = fields && fields.filter(function (field) {\n      return field.Id == selectedId;\n    });\n    setSelectedField(selected);\n  };\n\n  useEffect(function () {\n    setSelectedImages(satellitesImages);\n  }, [selectedDate, selectedField, satellitesImages]);\n\n  var handleClick = function handleClick(image) {\n    if (image) {\n      var imageUrl = \"\".concat(process.env.REACT_APP_BASE_URL).concat(image.image_url); // Prepend the backend URL\n\n      setSelectedImageUrl(imageUrl); // Save the full image URL with localhost\n\n      setDataDisplayed(image.data || []); // Save data for the selected image (e.g., coordinates or metadata)\n\n      setPolygonDisplayed(image.polygon || []); // Save polygon data if applicable\n    }\n  };\n\n  var designationImageMap = {\n    ndvi: \"densité de végétation\",\n    ndwi: \"Irrigation index\",\n    moisture: \"humidité\",\n    swir: \"stress hydrique\"\n  };\n  var typeIcons = {\n    ndvi: ndvi,\n    ndwi: ndwi,\n    moisture: moisture,\n    swir: swir\n  };\n\n  var renderImageGallery = function renderImageGallery() {\n    if (loadingImages) {\n      return /*#__PURE__*/React.createElement(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        my: 2,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CircularProgress, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }\n      }));\n    }\n\n    if (selectedImages.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"#bebebe\",\n          textAlign: \"center\",\n          padding: \"20px\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }\n      }, t(\"Please select a date\")));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between flex-wrap\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 7\n      }\n    }, selectedImages.map(function (image, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        onClick: function onClick() {\n          return handleClick(image);\n        },\n        className: \"btn w-25 \".concat(selectedImageUrl !== image.image_url ? \"btn-light\" : \"btn-primary\"),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: typeIcons[image.type],\n        alt: image.type,\n        style: {\n          height: \"32px\",\n          borderRadius: \"50%\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mt-2\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }\n      }, designationImageMap[image.type]));\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn w-25 \".concat(selectedImageUrl === 'terrain' ? 'btn-primary' : 'btn-light'),\n      onClick: function onClick() {\n        setSelectedImageUrl('');\n        setDataDisplayed([]); // Clear data\n\n        setPolygonDisplayed([]); // Clear polygons\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: terrain // Replace with the icon for terrain\n      ,\n      alt: \"Terrain\",\n      style: {\n        height: '32px',\n        width: \"32px\",\n        borderRadius: '50%',\n        objectFit: \"cover\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mt-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }, \"Terrain \")));\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"main-content-container px-3 pb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"page-header py-2 mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    subtitle: t(\"overview\"),\n    title: t(\"Satellite Images\"),\n    className: \" mb-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Container, {\n    className: \"main-content-container p-3 border bg-light rounded\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"gap-2 justify-content-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"8\",\n    md: \"12\",\n    sm: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"pt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"8\",\n    md: \"12\",\n    sm: \"12\",\n    className: \"py-2 d-md-block d-lg-none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"mt-0\",\n    style: {\n      height: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Select, {\n    value: selectedField,\n    onChange: getSelectedField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 23\n    }\n  }, t(\"select_field\")), fields.map(function (field) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: field.Id,\n      value: field.Id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 27\n      }\n    }, field.title);\n  }))))), /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    md: \"12\",\n    sm: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(SatteliteMap, {\n    farms: farms,\n    data: selectedField,\n    satellitesImages: selectedImages,\n    selectedData: dataDisplayed,\n    drawn: polygonDisplayed,\n    draw: mapConfig.draw,\n    edit: mapConfig.edit,\n    zoom: coords.zoom,\n    center: coords.center,\n    fromAction: coords.fromAction,\n    selectedImageUrl: selectedImageUrl,\n    renderImageGallery: renderImageGallery,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    lg: \"3\",\n    md: \"12\",\n    sm: \"12\",\n    className: \"my-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"mt-0\",\n    style: {\n      height: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }\n  }, fields.length === 0 ? /*#__PURE__*/React.createElement(LinearProgress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Header, {\n    className: \"border-bottom d-none d-lg-block\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Select, {\n    value: selectedField,\n    onChange: getSelectedField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 23\n    }\n  }, t(\"select_field\")), fields.map(function (field) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: field.Id,\n      value: field.Id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 27\n      }\n    }, field.title);\n  }))), /*#__PURE__*/React.createElement(Card.Body, {\n    className: \"p-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 19\n    }\n  }, selectedField.length > 0 && selectedField.map(function (field) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: \"12\",\n      md: \"12\",\n      sm: \"12\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      style: {\n        fontSize: 14,\n        textAlign: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 33\n      }\n    }, t(\"lat\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: \"bold\",\n        textAlign: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 35\n      }\n    }, field.Latitude))), /*#__PURE__*/React.createElement(Col, {\n      lg: \"12\",\n      md: \"12\",\n      sm: \"12\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      style: {\n        fontSize: 14,\n        textAlign: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 33\n      }\n    }, t(\"lon\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: \"bold\",\n        textAlign: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 35\n      }\n    }, field.Longitude)))), /*#__PURE__*/React.createElement(Row, {\n      className: \"border-bottom\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: \"12\",\n      md: \"12\",\n      sm: \"12\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      style: {\n        fontSize: 14,\n        textAlign: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 33\n      }\n    }, t(\"name_field\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 53\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: \"bold\",\n        textAlign: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 35\n      }\n    }, field.title)))));\n  }), selectedField.length === 0 && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"#bebebe\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      flexDirection: \"column\",\n      padding: \"10px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"#bebebe\",\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 25\n    }\n  }, t(\"message_image\")), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-satellite\",\n    style: {\n      fontSize: \"40px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    className: \"my-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    md: \"12\",\n    sm: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 23\n    }\n  }, selectedField.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      fontSize: 14,\n      textAlign: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 29\n    }\n  }, \" \", \"Satellite Images List\"), /*#__PURE__*/React.createElement(Calendar, {\n    onChange: function onChange(date) {\n      return handleDateClick(moment(date).format(\"D MMM YYYY\"));\n    },\n    value: selectedDate ? new Date(moment(selectedDate, \"D MMM YYYY\")) : null,\n    locale: localStorage.getItem(\"local\") ? \"\".concat(localStorage.getItem(\"local\"), \"-\").concat(localStorage.getItem(\"local\").toUpperCase()) : \"en-EN\",\n    tileContent: function tileContent(_ref4) {\n      var date = _ref4.date,\n          view = _ref4.view;\n      var formattedDate = moment(date).format(\"D MMM YYYY\");\n      var hasSatelliteImages = satellitesImages.some(function (data) {\n        return moment(data.created_at).format(\"D MMM YYYY\") === formattedDate;\n      });\n      return view === \"month\" && hasSatelliteImages ? /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontWeight: \"bold\",\n          color: \"#29B2C4\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 35\n        }\n      }, \"\\u2022\") : null;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 29\n    }\n  })))))))))));\n};\n\nexport default SatelliteImages;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Form","PageTitle","useTranslation","LeafletMap","Line","SatteliteMap","moment","api","CircularProgress","Box","LinearProgress","Button","SatelliteAltIcon","ListAltIcon","Calendar","ndvi","ndwi","moisture","swir","terrain","SatelliteImages","Latitude","Longitude","zoom","center","fromAction","coords","setCoords","draw","polygon","circle","rectangle","polyline","marker","circlemarker","mapConfig","setMapConfig","dates","setDates","fields","setFields","farms","setFarms","selectedField","setSelectedField","satellitesImages","setSatellitesImages","selectedImages","setSelectedImages","dataDisplayed","setDataDisplayed","polygonDisplayed","setPolygonDisplayed","loadingImages","setLoadingImages","selectedImageUrl","setSelectedImageUrl","format","selectedDate","setSelectedDate","getSatelliteImages","fieldId","Id","userUid","JSON","parse","localStorage","getItem","id","coordinates","map","elem","Long","Lat","apiUrl","post","date","formatDate","response","data","images","console","error","log","getDataFields","get","then","res","newData","Fields","item","itemfield","push","title","name","status","description","Uid","uid","farm_id","length","t","i18n","dateString","parsedDate","formattedDate","handleDateClick","getSelectedField","e","selectedId","target","value","selected","filter","field","handleClick","image","imageUrl","process","env","REACT_APP_BASE_URL","image_url","designationImageMap","typeIcons","renderImageGallery","color","textAlign","padding","index","type","height","borderRadius","width","objectFit","edit","fontSize","fontWeight","display","justifyContent","alignItems","flexDirection","Date","toUpperCase","view","hasSatelliteImages","some","created_at"],"sources":["C:/Users/LENOVO/Desktop/smartF back/SmartFarmPlatform/frontend/src/views/SatelliteImages.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Form\r\n} from \"react-bootstrap\";\r\nimport PageTitle from \"../components/common/PageTitle\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport LeafletMap from \"./map\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport SatteliteMap from \"./SatteliteMap\";\r\nimport moment from \"moment\";\r\nimport api from \"../api/api\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport { Box, LinearProgress } from \"@mui/material\";\r\nimport Button from \"@mui/material/Button\";\r\nimport SatelliteAltIcon from \"@mui/icons-material/SatelliteAlt\";\r\nimport ListAltIcon from \"@mui/icons-material/ListAlt\";\r\nimport Calendar from \"react-calendar\";\r\nimport \"react-calendar/dist/Calendar.css\";\r\nimport ndvi from \"../assets/images/NDVI.png\";\r\nimport ndwi from \"../assets/images/NDWI.png\";\r\nimport moisture from \"../assets/images/MOISTURE-INDEX.png\";\r\nimport swir from \"../assets/images/SWIR.png\";\r\nimport terrain from \"../assets/images/terrain.png\";\r\n\r\nconst SatelliteImages = () => {\r\n  const [coords, setCoords] = useState({\r\n    Latitude: \"\",\r\n    Longitude: \"\",\r\n    zoom: \"\",\r\n    center: [],\r\n    fromAction: false\r\n  });\r\n  const [mapConfig, setMapConfig] = useState({\r\n    zoom: \"\",\r\n    center: [],\r\n    fromAction: false,\r\n    draw: {\r\n      polygon: false,\r\n      circle: false,\r\n      rectangle: false,\r\n      polyline: false,\r\n      marker: false,\r\n      circlemarker: false\r\n    }\r\n  });\r\n  const [dates, setDates] = useState([]);\r\n  const [fields, setFields] = useState([]);\r\n  const [farms, setFarms] = useState([]);\r\n  const [selectedField, setSelectedField] = useState([]);\r\n  const [satellitesImages, setSatellitesImages] = useState([]);\r\n  const [selectedImages, setSelectedImages] = useState([]);\r\n  const [dataDisplayed, setDataDisplayed] = useState([]);\r\n  const [polygonDisplayed, setPolygonDisplayed] = useState([]);\r\n  const [loadingImages, setLoadingImages] = useState(false);\r\n  const [selectedImageUrl, setSelectedImageUrl] = useState(null);\r\n  const [selectedDate, setSelectedDate] = useState(\r\n    moment().format(\"D MMM YYYY\")\r\n  );\r\n\r\n  const getSatelliteImages = async () => {\r\n    try {\r\n      setLoadingImages(true);\r\n      const fieldId = selectedField[0].Id;\r\n      let userUid = JSON.parse(localStorage.getItem(\"user\")).id;\r\n      let coordinates = JSON.parse(selectedField[0].coordinates).map(elem => {\r\n        return [elem.Long, elem.Lat];\r\n      });\r\n\r\n      const apiUrl = `/add-satellite-images/${userUid}/${fieldId}`;\r\n      const response = await api.post(apiUrl, {\r\n        date: formatDate(selectedDate),\r\n        coordinates\r\n      });\r\n\r\n\r\n\r\n      setSatellitesImages(response.data.images);\r\n      setLoadingImages(false);\r\n    } catch (error) {\r\n      console.error(\"API error:\", error);\r\n      setLoadingImages(false);\r\n    }\r\n  };\r\n\r\n  console.log(satellitesImages);\r\n  useEffect(() => {\r\n    const getDataFields = async () => {\r\n      await api.get(\"/field/fields\").then(res => {\r\n        const newData = res.data.farms;\r\n        setFarms(newData);\r\n        let Fields = [];\r\n        newData.map(item => {\r\n          let fields = item.fields;\r\n          if (fields) {\r\n            fields.map(itemfield => {\r\n              Fields.push({\r\n                title: itemfield.name,\r\n                status: itemfield.status,\r\n                description: itemfield.description,\r\n                Uid: itemfield.uid,\r\n                farm_id: itemfield.farm_id,\r\n                Latitude: itemfield.Latitude,\r\n                Longitude: itemfield.Longitude,\r\n                coordinates: itemfield.coordinates,\r\n                Id: itemfield.id\r\n              });\r\n            });\r\n          }\r\n        });\r\n        setFields(Fields);\r\n      });\r\n    };\r\n    getDataFields();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedField.length > 0) {\r\n      getSatelliteImages();\r\n    }\r\n  }, [selectedField, selectedDate]);\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n\r\n\r\n  const formatDate = dateString => {\r\n    // Parse the input date string using Moment.js\r\n    const parsedDate = moment(dateString, \"D MMM YYYY\");\r\n\r\n    // Format the date in the desired format (YYYY-MM-DD)\r\n    const formattedDate = parsedDate.format(\"YYYY-MM-DD\");\r\n\r\n    return formattedDate;\r\n  };\r\n\r\n  const handleDateClick = async date => {\r\n    setSelectedDate(date);\r\n    const formattedDate = formatDate(date);\r\n\r\n  };\r\n  const getSelectedField = e => {\r\n    const selectedId = e.target.value;\r\n    const selected = fields && fields.filter(field => field.Id == selectedId);\r\n    setSelectedField(selected);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSelectedImages(satellitesImages);\r\n  }, [selectedDate, selectedField, satellitesImages]);\r\n\r\n  const handleClick = image => {\r\n    if (image) {\r\n      const imageUrl = `${process.env.REACT_APP_BASE_URL}${image.image_url}`; // Prepend the backend URL\r\n      setSelectedImageUrl(imageUrl); // Save the full image URL with localhost\r\n      setDataDisplayed(image.data || []); // Save data for the selected image (e.g., coordinates or metadata)\r\n      setPolygonDisplayed(image.polygon || []); // Save polygon data if applicable\r\n    }\r\n  };\r\n  const designationImageMap = {\r\n    ndvi: \"densité de végétation\",\r\n    ndwi: \"Irrigation index\",\r\n    moisture: \"humidité\",\r\n    swir: \"stress hydrique\"\r\n  };\r\n  const typeIcons = {\r\n    ndvi,\r\n    ndwi,\r\n    moisture,\r\n    swir\r\n  };\r\n\r\n  const renderImageGallery = () => {\r\n    if (loadingImages) {\r\n      return (\r\n        <Box display=\"flex\" justifyContent=\"center\" my={2}>\r\n          <CircularProgress />\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    if (selectedImages.length === 0) {\r\n      return (\r\n        <div style={{ color: \"#bebebe\", textAlign: \"center\", padding: \"20px\" }}>\r\n          <p>{t(\"Please select a date\")}</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className=\"d-flex justify-content-between flex-wrap\"\r\n      >\r\n        {selectedImages.map((image, index) => (\r\n          <div\r\n            key={index}\r\n            onClick={() => handleClick(image)}\r\n            className={`btn w-25 ${selectedImageUrl !== image.image_url ? \"btn-light\" : \"btn-primary\"\r\n              }`}\r\n          >\r\n            <div\r\n              style={{\r\n                textAlign: \"center\"\r\n              }}\r\n            >\r\n              <img\r\n                src={typeIcons[image.type]}\r\n                alt={image.type}\r\n                style={{ height: \"32px\", borderRadius: \"50%\" }}\r\n              />\r\n            </div>\r\n            <p className=\"mt-2\">{designationImageMap[image.type]}</p>\r\n          </div>\r\n        ))}\r\n        <div\r\n          className={`btn w-25 ${selectedImageUrl === 'terrain' ? 'btn-primary' : 'btn-light'}`}\r\n          onClick={() => {\r\n            setSelectedImageUrl('');\r\n            setDataDisplayed([]);        // Clear data\r\n            setPolygonDisplayed([]);     // Clear polygons\r\n          }}\r\n        >\r\n          <div style={{ textAlign: 'center' }}>\r\n            <img\r\n              src={terrain} // Replace with the icon for terrain\r\n              alt=\"Terrain\"\r\n              style={{ height: '32px', width:\"32px\", borderRadius: '50%',objectFit:\"cover\" }}\r\n            />\r\n          </div>\r\n          <p className=\"mt-1\">Terrain </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <Container fluid className=\"main-content-container px-3 pb-2\">\r\n      <Row className=\"page-header py-2 mb-4\">\r\n        <PageTitle\r\n          subtitle={t(\"overview\")}\r\n          title={t(\"Satellite Images\")}\r\n          className=\" mb-1\"\r\n        />\r\n      </Row>\r\n\r\n      <Container className=\"main-content-container p-3 border bg-light rounded\">\r\n        <Row className=\"gap-2 justify-content-between\">\r\n          <Col lg=\"8\" md=\"12\" sm=\"12\">\r\n            <Row className=\"pt-4\">\r\n              <Col lg=\"8\" md=\"12\" sm=\"12\" className=\"py-2 d-md-block d-lg-none\">\r\n                {/* Select input on mobile view */}\r\n                <Card className=\"mt-0\" style={{ height: \"100%\" }}>\r\n                  <Card.Header className=\"border-bottom\">\r\n                    <Form.Select\r\n                      value={selectedField}\r\n                      onChange={getSelectedField}\r\n                    >\r\n                      <option value=\"\">{t(\"select_field\")}</option>\r\n                      {fields.map(field => {\r\n                        return (\r\n                          <option key={field.Id} value={field.Id}>\r\n                            {field.title}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </Form.Select>\r\n                  </Card.Header>\r\n                </Card>\r\n              </Col>\r\n              <Col lg=\"12\" md=\"12\" sm=\"12\">\r\n                <SatteliteMap\r\n                  farms={farms}\r\n                  data={selectedField}\r\n                  satellitesImages={selectedImages}\r\n                  selectedData={dataDisplayed}\r\n                  drawn={polygonDisplayed}\r\n                  draw={mapConfig.draw}\r\n                  edit={mapConfig.edit}\r\n                  zoom={coords.zoom}\r\n                  center={coords.center}\r\n                  fromAction={coords.fromAction}\r\n                  selectedImageUrl={selectedImageUrl}\r\n                  renderImageGallery={renderImageGallery}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n\r\n          <Col lg=\"3\" md=\"12\" sm=\"12\" className=\"my-2\">\r\n            <Card className=\"mt-0\" style={{ height: \"100%\" }}>\r\n              {fields.length === 0 ? (\r\n                <LinearProgress />\r\n              ) : (\r\n                <>\r\n                  <Card.Header className=\"border-bottom d-none d-lg-block\">\r\n                    <Form.Select\r\n                      value={selectedField}\r\n                      onChange={getSelectedField}\r\n                    >\r\n                      <option value=\"\">{t(\"select_field\")}</option>\r\n                      {fields.map(field => {\r\n                        return (\r\n                          <option key={field.Id} value={field.Id}>\r\n                            {field.title}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </Form.Select>\r\n                  </Card.Header>\r\n                  <Card.Body className=\"p-1\">\r\n                    {selectedField.length > 0 &&\r\n                      selectedField.map(field => {\r\n                        return (\r\n                          <>\r\n                            <Row>\r\n                              <Col lg=\"12\" md=\"12\" sm=\"12\">\r\n                                <h5\r\n                                  style={{ fontSize: 14, textAlign: \"center\" }}\r\n                                >\r\n                                  {t(\"lat\")}{\" \"}\r\n                                  <span\r\n                                    style={{\r\n                                      fontWeight: \"bold\",\r\n                                      textAlign: \"center\"\r\n                                    }}\r\n                                  >\r\n                                    {field.Latitude}\r\n                                  </span>\r\n                                </h5>\r\n                              </Col>\r\n                              <Col lg=\"12\" md=\"12\" sm=\"12\">\r\n                                <h5\r\n                                  style={{ fontSize: 14, textAlign: \"center\" }}\r\n                                >\r\n                                  {t(\"lon\")}{\" \"}\r\n                                  <span\r\n                                    style={{\r\n                                      fontWeight: \"bold\",\r\n                                      textAlign: \"center\"\r\n                                    }}\r\n                                  >\r\n                                    {field.Longitude}\r\n                                  </span>\r\n                                </h5>\r\n                              </Col>\r\n                            </Row>\r\n                            <Row className=\"border-bottom\">\r\n                              <Col lg=\"12\" md=\"12\" sm=\"12\">\r\n                                <h6\r\n                                  style={{ fontSize: 14, textAlign: \"center\" }}\r\n                                >\r\n                                  {t(\"name_field\")} <br />{\" \"}\r\n                                  <span\r\n                                    style={{\r\n                                      fontWeight: \"bold\",\r\n                                      textAlign: \"center\"\r\n                                    }}\r\n                                  >\r\n                                    {field.title}\r\n                                  </span>\r\n                                </h6>\r\n                              </Col>\r\n                            </Row>\r\n                          </>\r\n                        );\r\n                      })}\r\n                    {selectedField.length === 0 && (\r\n                      <div\r\n                        style={{\r\n                          color: \"#bebebe\",\r\n                          display: \"flex\",\r\n                          justifyContent: \"center\",\r\n                          alignItems: \"center\",\r\n                          flexDirection: \"column\",\r\n                          padding: \"10px\"\r\n                        }}\r\n                      >\r\n                        <p style={{ color: \"#bebebe\", textAlign: \"center\" }}>\r\n                          {t(\"message_image\")}\r\n                        </p>\r\n                        <i\r\n                          className=\"fas fa-satellite\"\r\n                          style={{ fontSize: \"40px\" }}\r\n                        ></i>\r\n                      </div>\r\n                    )}\r\n                    <Row className=\"my-2\">\r\n                      <Col lg=\"12\" md=\"12\" sm=\"12\">\r\n                        {selectedField.length > 0 && (\r\n                          <>\r\n                            <h5 style={{ fontSize: 14, textAlign: \"center\" }}>\r\n                              {\" \"}\r\n                              Satellite Images List\r\n                            </h5>\r\n                            <Calendar\r\n                              onChange={date =>\r\n                                handleDateClick(\r\n                                  moment(date).format(\"D MMM YYYY\")\r\n                                )\r\n                              }\r\n                              value={\r\n                                selectedDate\r\n                                  ? new Date(moment(selectedDate, \"D MMM YYYY\"))\r\n                                  : null\r\n                              }\r\n                              locale={\r\n                                localStorage.getItem(\"local\")\r\n                                  ? `${localStorage.getItem(\r\n                                    \"local\"\r\n                                  )}-${localStorage\r\n                                    .getItem(\"local\")\r\n                                    .toUpperCase()}`\r\n                                  : \"en-EN\"\r\n                              }\r\n                              tileContent={({ date, view }) => {\r\n                                const formattedDate = moment(date).format(\r\n                                  \"D MMM YYYY\"\r\n                                );\r\n                                const hasSatelliteImages = satellitesImages.some(\r\n                                  data =>\r\n                                    moment(data.created_at).format(\r\n                                      \"D MMM YYYY\"\r\n                                    ) === formattedDate\r\n                                );\r\n\r\n                                return view === \"month\" &&\r\n                                  hasSatelliteImages ? (\r\n                                  <span\r\n                                    style={{\r\n                                      fontWeight: \"bold\",\r\n                                      color: \"#29B2C4\"\r\n                                    }}\r\n                                  >\r\n                                    •\r\n                                  </span>\r\n                                ) : null;\r\n                              }}\r\n                            />\r\n                          </>\r\n                        )}\r\n                      </Col>\r\n                    </Row>\r\n                  </Card.Body>\r\n                </>\r\n              )}\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SatelliteImages;"],"mappings":"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"},"metadata":{},"sourceType":"module"}