{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\smartFarmOldVPS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\smartFarmOldVPS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\smartFarmOldVPS\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\smartFarmOldVPS\\\\frontend\\\\src\\\\components\\\\blog\\\\SingleChart.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParams, Link, useHistory } from 'react-router-dom';\nimport { Container, Row, Col } from 'shards-react';\nimport api from '../../api/api';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport PageTitle from '../common/PageTitle';\nimport Chart from \"./Chart\";\nimport HumidityChart from './HumidityChart';\nimport PressionChart from './PressionChart';\nimport SubSoilHumidityChart from './SubSoilHumidityChart';\nimport TempChart from './TempChart';\n\nvar SingleChart = function SingleChart() {\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var params = useParams();\n  var history = useHistory();\n  var type = params.type;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      dataSensor = _useState2[0],\n      setDataSensor = _useState2[1];\n\n  var _useState3 = useState(localStorage.getItem(\"Field\")),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fieldIndex = _useState4[0],\n      setFieldIndex = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  useEffect(function () {\n    var is_Mounted = true;\n\n    if (is_Mounted) {\n      getDataSensors();\n    }\n\n    return function () {\n      is_Mounted = false;\n    };\n  }, []);\n\n  var getDataSensors = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return api.get('/datasensor/get-data').then(function (res) {\n                var dataSensor = res.data.Datasensor;\n                setDataSensor(dataSensor);\n              }).catch(function (err) {\n                console.log(err);\n              }).finally(function () {\n                return setIsLoading(false);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getDataSensors() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var goBackToGraphs = function goBackToGraphs() {\n    history.push('/Graphs'); // window.location.reload()\n  };\n\n  var selectedChart = function selectedChart() {\n    switch (type) {\n      case 'Temperature':\n        return /*#__PURE__*/React.createElement(TempChart, {\n          title: type,\n          data: dataSensor,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 20\n          }\n        });\n\n      case 'Pression.':\n        return /*#__PURE__*/React.createElement(PressionChart, {\n          title: type,\n          data: dataSensor,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 22\n          }\n        });\n\n      case 'Humidity':\n        return /*#__PURE__*/React.createElement(HumidityChart, {\n          title: type,\n          data: dataSensor,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 24\n          }\n        });\n\n      case 'Subsoil Humidity':\n        return /*#__PURE__*/React.createElement(SubSoilHumidityChart, {\n          title: type,\n          data: dataSensor,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 26\n          }\n        });\n\n      default:\n        break;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"main-content-container px-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-2 border-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: goBackToGraphs,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons border-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 38\n    }\n  }, \"\\uE5E0\"), \" All Graphs\")), /*#__PURE__*/React.createElement(Row, {\n    noGutters: true,\n    className: \"page-header py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    sm: \"4\",\n    title: \"\".concat(type),\n    subtitle: \"Sensor Graph\",\n    className: \"text-sm-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  })), isLoading ? /*#__PURE__*/React.createElement(LoadingSpinner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    md: \"12\",\n    sm: \"8\",\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, selectedChart()));\n};\n\nexport default SingleChart;","map":{"version":3,"names":["React","useState","useEffect","useTranslation","useParams","Link","useHistory","Container","Row","Col","api","LoadingSpinner","PageTitle","Chart","HumidityChart","PressionChart","SubSoilHumidityChart","TempChart","SingleChart","t","i18n","params","history","type","dataSensor","setDataSensor","localStorage","getItem","fieldIndex","setFieldIndex","isLoading","setIsLoading","is_Mounted","getDataSensors","get","then","res","data","Datasensor","catch","err","console","log","finally","goBackToGraphs","push","selectedChart"],"sources":["C:/professional/2K Media/II.develepment/smart farm/smartFarmOldVPS/frontend/src/components/blog/SingleChart.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { useTranslation } from 'react-i18next';\nimport { useParams,Link, useHistory } from 'react-router-dom'\nimport { Container ,Row ,Col } from 'shards-react';\nimport api from '../../api/api';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport PageTitle from '../common/PageTitle';\nimport Chart from \"./Chart\";\nimport HumidityChart from './HumidityChart';\nimport PressionChart from './PressionChart';\nimport SubSoilHumidityChart from './SubSoilHumidityChart';\nimport TempChart from './TempChart';\n\n\nconst SingleChart = () => {\n  const { t, i18n } = useTranslation();\n\n    const params = useParams()\n    const history = useHistory()\n    let type = params.type\n    const [dataSensor,setDataSensor] = useState([])  \n    const [fieldIndex,setFieldIndex] = useState(localStorage.getItem(\"Field\"))\n    const [isLoading , setIsLoading] = useState(true)\n   useEffect(()=>{\n    let is_Mounted = true;\n    if(is_Mounted){\n      getDataSensors()\n    }\n    return () => {is_Mounted = false}\n  },[])\n  const getDataSensors =  async () => {\n    await api.get('/datasensor/get-data')\n        .then(res => {\n          let dataSensor = res.data.Datasensor\n          setDataSensor(dataSensor)\n        })\n        .catch(err =>{\n          console.log(err)\n        })\n        .finally(() => setIsLoading(false))\n\n  }\n\n    const goBackToGraphs = () => {\n      history.push('/Graphs')\n      // window.location.reload()\n    }  \n\n    const selectedChart = () => {\n      switch (type) {\n        case 'Temperature':\n            return <TempChart title={type} data={dataSensor} />\n            case 'Pression.':\n              return <PressionChart title={type} data={dataSensor} />\n              case 'Humidity':\n                return <HumidityChart title={type} data={dataSensor} />\n                case 'Subsoil Humidity':\n                  return <SubSoilHumidityChart title={type} data={dataSensor} />\n          \n      \n        default:\n          break;\n      }\n    }\n\n    return (\n    <Container fluid className=\"main-content-container px-4\">  \n    <div className=\"py-2 border-bottom\">\n      <Link onClick={goBackToGraphs}><i className='material-icons border-right'>&#xe5e0;</i> All Graphs</Link>\n    </div>\n    <Row noGutters className=\"page-header py-4\">\n          <PageTitle\n            sm=\"4\"\n            title={`${type}`}\n            subtitle=\"Sensor Graph\"\n            className=\"text-sm-left\"\n          />\n        </Row>     \n        {\n          isLoading \n          ?\n          <LoadingSpinner />\n          :\n\n        <Col lg=\"12\" md=\"12\" sm=\"8\" className=\"mb-4\">\n          {selectedChart()}\n           {/* <TempChart title={type} data={dataSensor} /> */}\n        </Col>\n        }\n    </Container>\n  )\n}\n\nexport default SingleChart"],"mappings":"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"},"metadata":{},"sourceType":"module"}