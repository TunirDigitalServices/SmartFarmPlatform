{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/var/www/prod/smartfarm/backoffice/frontend/src/components/FieldSettingForms/FieldSetupForm.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Row, Col, Form, FormGroup, FormFeedback, FormInput, FormSelect } from \"shards-react\";\nimport axios from \"axios\";\nimport { useTranslation } from \"react-i18next\";\nimport api from '../../api/api';\n\nfunction FieldSetupForm(props) {\n  var _this = this;\n\n  var _useState = useState(localStorage.getItem(\"local\") || \"en\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      local = _useState2[0],\n      setLocal = _useState2[1];\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState({\n    name: props.name,\n    farm: props.farmName,\n    description: props.description,\n    farm_uid: props.farm_uid\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      fieldInfo = _useState6[0],\n      setFieldInfo = _useState6[1];\n\n  useEffect(function () {\n    var getFarms = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return api.get('/farm/farms').then(function (response) {\n                  var farms = response.data.farms;\n                  setData(farms);\n                }).catch(function (err) {\n                  console.log(err);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getFarms() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getFarms();\n    var CardValues = JSON.stringify({\n      name: fieldInfo.name,\n      farm_uid: fieldInfo.farm_uid,\n      description: fieldInfo.description\n    });\n  }, [props.saved]);\n  return /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    sm: \"12\",\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    md: \"6\",\n    sm: \"6\",\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"0px\",\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, t('name_field')), /*#__PURE__*/React.createElement(FormInput, {\n    value: props.name,\n    placeholder: t('name_field'),\n    className: props.nameError == '' ? '' : 'is-invalid',\n    required: true,\n    onChange: props.handleName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    style: {\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, props.nameError)), /*#__PURE__*/React.createElement(Col, {\n    lg: \"6\",\n    md: \"6\",\n    sm: \"6\",\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"0px\",\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, t('name_farm')), /*#__PURE__*/React.createElement(FormSelect, {\n    value: props.farm_uid,\n    className: props.farmError == '' ? '' : 'is-invalid',\n    required: true,\n    onChange: props.handleUidFarm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, t('select_farm')), \";\", data.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.uid,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 24\n      }\n    }, item.name);\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: \"12\",\n    md: \"6\",\n    sm: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: \"0px\",\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, t('desc')), /*#__PURE__*/React.createElement(\"textarea\", {\n    value: props.description,\n    onChange: props.handleDescription,\n    style: {\n      height: \"220px\"\n    },\n    class: \"form-control\",\n    placeholder: \"Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }))))));\n}\n\nFieldSetupForm.defaultProps = {\n  name: \"\",\n  // farmName: \"\",\n  description: \"\"\n};\nexport default FieldSetupForm;","map":{"version":3,"names":["React","useEffect","useState","Row","Col","Form","FormGroup","FormFeedback","FormInput","FormSelect","axios","useTranslation","api","FieldSetupForm","props","localStorage","getItem","local","setLocal","t","i18n","data","setData","name","farm","farmName","description","farm_uid","fieldInfo","setFieldInfo","getFarms","get","then","response","farms","catch","err","console","log","CardValues","JSON","stringify","saved","margin","textAlign","nameError","handleName","farmError","handleUidFarm","map","item","index","uid","handleDescription","height","defaultProps"],"sources":["/var/www/prod/smartfarm/backoffice/frontend/src/components/FieldSettingForms/FieldSetupForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Row,\n  Col,\n  Form,\n  FormGroup,\n  FormFeedback,\n  FormInput,\n  FormSelect\n} from \"shards-react\";\nimport axios from \"axios\";\nimport { useTranslation } from \"react-i18next\";\nimport api from '../../api/api';\n\nfunction FieldSetupForm(props) {\n\n  const [ local, setLocal ] =  useState(localStorage.getItem(\"local\")||\"en\");\n  const { t, i18n } = useTranslation();\n\n  const [data, setData] = useState([]);\n  const [fieldInfo, setFieldInfo] = useState({\n    name: props.name,\n    farm: props.farmName,\n    description: props.description,\n    farm_uid: props.farm_uid\n  });\n\n   useEffect(() => {\n    const getFarms = async () => {\n      await api.get('/farm/farms')\n      .then(response => {\n         let farms = response.data.farms\n         setData(farms);\n        }).catch(err=>{\n          console.log(err)\n        })\n        \n\n    } \n      getFarms();\n    let CardValues = JSON.stringify({\n      name: fieldInfo.name,\n      farm_uid: fieldInfo.farm_uid,\n      description: fieldInfo.description\n    });\n\n  }, [props.saved]);\n\n  return (\n    <Col lg=\"6\" sm=\"12\" md=\"6\">\n      <Form>\n        <Row>\n          <Col lg='6' md=\"6\" sm='6' className=\"form-group\">\n            <p style={{ margin: \"0px\" , textAlign:\"left\"}}>{t('name_field')}</p>\n            <FormInput\n              value={props.name}\n              placeholder={t('name_field')}\n              className={props.nameError =='' ? '' : 'is-invalid'}\n              required\n              onChange={props.handleName}\n            />\n\n\n          <div className=\"invalid-feedback\" style={{textAlign: \"left\"}}>{props.nameError}</div>\n          </Col>\n          <Col  lg='6' md=\"6\" sm='6'  className=\"form-group\">\n            <p style={{ margin: \"0px\", textAlign:\"left\" }}>{t('name_farm')}</p>\n            <FormSelect\n                value={props.farm_uid}\n                className={props.farmError =='' ? '' : 'is-invalid'}\n                required\n                onChange={props.handleUidFarm}\n            >\n              <option value=\"\">{t('select_farm')}</option>;\n              {data.map((item, index) => {\n                return <option value={item.uid}>{item.name}</option>;\n              })}\n            </FormSelect>\n          </Col>\n        </Row>\n        <Row>\n\n        <Col lg='12' md=\"6\" sm='6'>\n        <FormGroup>\n          <p style={{ margin: \"0px\",textAlign: \"left\" }}>{t('desc')}</p>\n          <textarea\n            value={props.description}\n            onChange={props.handleDescription}\n            style={{ height: \"220px\" }}\n            class=\"form-control\"\n            placeholder=\"Description\"\n          ></textarea>\n        </FormGroup>\n        </Col>\n        </Row>\n      </Form>\n    </Col>\n  );\n}\n\nFieldSetupForm.defaultProps = {\n  name: \"\",\n  // farmName: \"\",\n  description: \"\"\n};\n\nexport default FieldSetupForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}