{"ast":null,"code":"import _toConsumableArray from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/prod/smartfarm/backoffice/frontend/src/components/common/SmallStats.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport shortid from \"shortid\";\nimport \"./Styles.css\";\nimport { withTranslation } from \"react-i18next\";\nimport Plot from \"../../utils/plot\";\n\nvar SmallStats = /*#__PURE__*/function (_React$Component) {\n  _inherits(SmallStats, _React$Component);\n\n  function SmallStats(props) {\n    var _this;\n\n    _classCallCheck(this, SmallStats);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SmallStats).call(this, props));\n    _this.state = {\n      farms: [],\n      resultFields: []\n    };\n    _this.canvasRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(SmallStats, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var chartOptions = _objectSpread({}, {\n        maintainAspectRatio: true,\n        responsive: true,\n        legend: {\n          display: false\n        },\n        tooltips: {\n          enabled: false,\n          custom: false\n        },\n        elements: {\n          point: {\n            radius: 0\n          },\n          line: {\n            tension: 0.33\n          }\n        },\n        scales: {\n          xAxes: [{\n            gridLines: false,\n            ticks: {\n              display: false\n            }\n          }],\n          yAxes: [{\n            gridLines: false,\n            scaleLabel: false,\n            ticks: {\n              display: false,\n              isplay: false,\n              // Avoid getting the graph line cut of at the top of the canvas.\n              // Chart.js bug link: https://github.com/chartjs/Chart.js/issues/4790\n              suggestedMax: Math.max.apply(Math, _toConsumableArray(this.props.chartData[0].data)) + 1\n            }\n          }]\n        }\n      }, this.props.chartOptions);\n\n      var chartConfig = _objectSpread({}, {\n        type: \"line\",\n        data: _objectSpread({}, {\n          labels: this.props.chartLabels\n        }, {\n          datasets: this.props.chartData\n        }),\n        options: chartOptions\n      }, this.props.chartConfig);\n\n      new Plot(this.canvasRef.current, chartConfig);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var t = this.props.t;\n      var _this$props = this.props,\n          variation = _this$props.variation,\n          state = _this$props.state,\n          icon = _this$props.icon,\n          label = _this$props.label,\n          value = _this$props.value;\n      var canvasHeight = variation === \"1\" ? 120 : 60;\n      var RSBHeader = classNames( //\"SBHeader\",\n      state === \"\".concat(t('Critical')) ? \"critical\" : state === \"\".concat(t('Optimal')) ? \"optimal\" : state === \"\".concat(t('Full')) ? \"full\" : null);\n\n      var valid = function valid(state) {\n        switch (state) {\n          case \"\".concat(t('low_batt')):\n          case \"\".concat(t('offline')):\n          case \"\".concat(t('online')):\n            return _this2.props.ToSensorPage();\n\n          default:\n            return _this2.props.FilterByStatus(state);\n        }\n      };\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onClick: function onClick() {\n          return valid(state);\n        },\n        className: \"statsBox\",\n        style: {\n          width: \"33%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: RSBHeader,\n        style: {\n          height: \"75%\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"row\",\n          width: \"100%\",\n          height: \"40px\",\n          justifyContent: \"space-between\",\n          fontSize: \"17px\",\n          padding: \"5px\",\n          marginBottom: \"10px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"h2\", {\n        className: RSBHeader,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }\n      }, value), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }\n      }, \" \", state), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          textAlign: \"center\"\n        },\n        className: RSBHeader,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }\n      }, icon)), /*#__PURE__*/React.createElement(\"canvas\", {\n        height: canvasHeight,\n        ref: this.canvasRef,\n        className: \"stats-small-\".concat(shortid()),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return SmallStats;\n}(React.Component);\n\nSmallStats.propTypes = {\n  /**\n   * The Small Stats variation.\n   */\n  //variation: PropTypes.string,\n\n  /**\n   * The label.\n   */\n  state: PropTypes.string,\n\n  /**\n   * The label.\n   */\n  icon: PropTypes.string,\n\n  /**\n   * The label.\n   */\n  label: PropTypes.string,\n\n  /**\n   * The value.\n   */\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The percentage number or string.\n   */\n  //percentage: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * Whether is a value increase, or not.\n   */\n  //increase: PropTypes.bool,\n\n  /**\n   * The Chart.js configuration object.\n   */\n  chartConfig: PropTypes.object,\n\n  /**\n   * The Chart.js options object.\n   */\n  chartOptions: PropTypes.object,\n\n  /**\n   * The chart data.\n   */\n  chartData: PropTypes.array.isRequired,\n\n  /**\n   * The chart labels.\n   */\n  chartLabels: PropTypes.array\n};\nSmallStats.defaultProps = {\n  //increase: true,\n  //percentage: 0,\n  icon: \"\",\n  state: \"State\",\n  value: 0,\n  label: \"Label\",\n  chartOptions: Object.create(null),\n  chartConfig: Object.create(null),\n  chartData: [],\n  chartLabels: []\n};\nexport default withTranslation()(SmallStats);","map":{"version":3,"names":["React","PropTypes","classNames","shortid","withTranslation","Plot","SmallStats","props","state","farms","resultFields","canvasRef","createRef","chartOptions","maintainAspectRatio","responsive","legend","display","tooltips","enabled","custom","elements","point","radius","line","tension","scales","xAxes","gridLines","ticks","yAxes","scaleLabel","isplay","suggestedMax","Math","max","chartData","data","chartConfig","type","labels","chartLabels","datasets","options","current","t","variation","icon","label","value","canvasHeight","RSBHeader","valid","ToSensorPage","FilterByStatus","width","height","flexDirection","alignItems","justifyContent","fontSize","padding","marginBottom","textAlign","Component","propTypes","string","oneOfType","number","object","array","isRequired","defaultProps","Object","create"],"sources":["/var/www/prod/smartfarm/backoffice/frontend/src/components/common/SmallStats.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport shortid from \"shortid\";\nimport \"./Styles.css\";\nimport { withTranslation  } from \"react-i18next\";\n\n\nimport Plot from \"../../utils/plot\";\n\nclass SmallStats extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      farms:[],\n      resultFields:[]\n    }; \n\n    this.canvasRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const chartOptions = {\n      ...{\n        maintainAspectRatio: true,\n        responsive: true,\n        legend: {\n          display: false\n        },\n        tooltips: {\n          enabled: false,\n          custom: false\n        },\n        elements: {\n          point: {\n            radius: 0\n          },\n          line: {\n            tension: 0.33\n          }\n        },\n        scales: {\n          xAxes: [\n            {\n              gridLines: false,\n              ticks: {\n                display: false\n              }\n            }\n          ],\n          yAxes: [\n            {\n              gridLines: false,\n              scaleLabel: false,\n              ticks: {\n                display: false,\n                isplay: false,\n                // Avoid getting the graph line cut of at the top of the canvas.\n                // Chart.js bug link: https://github.com/chartjs/Chart.js/issues/4790\n                suggestedMax: Math.max(...this.props.chartData[0].data) + 1\n              }\n            }\n          ]\n        }\n      },\n      ...this.props.chartOptions\n    };\n\n    const chartConfig = {\n      ...{\n        type: \"line\",\n        data: {\n          ...{\n            labels: this.props.chartLabels\n          },\n          ...{\n            datasets: this.props.chartData\n          }\n        },\n        options: chartOptions\n      },\n      ...this.props.chartConfig\n    };\n\n    new Plot(this.canvasRef.current, chartConfig);\n  }\n\n\n  \n  render() {\n\n    const { t } = this.props;\n\n\n    const {\n      variation,\n      state,\n      icon,\n      label,\n      value\n      //percentage, increase\n    } = this.props;\n    \n\n\n\n    const canvasHeight = variation === \"1\" ? 120 : 60;\n\n    const RSBHeader = classNames(\n      //\"SBHeader\",\n      state === `${t('Critical')}`\n        ? \"critical\"\n        : state === `${t('Optimal')}`\n        ? \"optimal\"\n        : state === `${t('Full')}`\n        ? \"full\"\n        : null\n    );\n     const valid = (state) => { \n      switch (state) {\n        case `${t('low_batt')}`:\n          case `${t('offline')}`:\n            case `${t('online')}`:\n              return this.props.ToSensorPage()\n        default:\n          return this.props.FilterByStatus(state)\n      }\n    }\n\n    return (\n      <div onClick={() => valid(state)} className=\"statsBox\" style={{ width: \"33%\"}} >\n        <div\n          className={RSBHeader }\n          style={{\n            height: \"75%\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\"\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              width: \"100%\",\n              height: \"40px\",\n              justifyContent: \"space-between\",\n              fontSize: \"17px\",\n              padding: \"5px\",\n              marginBottom: \"10px\"\n            }}\n          >\n         \n          </div>\n          <h2 className={RSBHeader}>{value}</h2>\n          <span> {state}</span>\n          <p style={{textAlign:\"center\"}} className={RSBHeader}>{icon}</p>\n        </div>\n        <canvas\n          height={canvasHeight}\n          ref={this.canvasRef}\n          className={`stats-small-${shortid()}`}\n        />\n      </div>\n    );\n  }\n}\n\nSmallStats.propTypes = {\n  /**\n   * The Small Stats variation.\n   */\n  //variation: PropTypes.string,\n  /**\n   * The label.\n   */\n  state: PropTypes.string,\n  /**\n   * The label.\n   */\n  icon: PropTypes.string,\n  /**\n   * The label.\n   */\n  label: PropTypes.string,\n  /**\n   * The value.\n   */\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /**\n   * The percentage number or string.\n   */\n  //percentage: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /**\n   * Whether is a value increase, or not.\n   */\n  //increase: PropTypes.bool,\n  /**\n   * The Chart.js configuration object.\n   */\n  chartConfig: PropTypes.object,\n  /**\n   * The Chart.js options object.\n   */\n  chartOptions: PropTypes.object,\n  /**\n   * The chart data.\n   */\n  chartData: PropTypes.array.isRequired,\n  /**\n   * The chart labels.\n   */\n  chartLabels: PropTypes.array\n};\n\nSmallStats.defaultProps = {\n  //increase: true,\n  //percentage: 0,\n  icon: \"\",\n  state: \"State\",\n  value: 0,\n  label: \"Label\",\n  chartOptions: Object.create(null),\n  chartConfig: Object.create(null),\n  chartData: [],\n  chartLabels: []\n};\n\nexport default withTranslation()(SmallStats);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}