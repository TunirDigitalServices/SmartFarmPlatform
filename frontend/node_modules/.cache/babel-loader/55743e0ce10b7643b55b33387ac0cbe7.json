{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\backoffice v2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\backoffice v2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\backoffice v2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\professional\\\\2K Media\\\\II.develepment\\\\smart farm\\\\backoffice v2\\\\frontend\\\\src\\\\views\\\\AllNotifications.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Button, ButtonGroup, Modal, ModalBody, ModalHeader, Row, Col, FormInput, FormGroup, Form, Container, Card } from 'shards-react';\nimport api from '../api/api';\nimport PageTitle from '../components/common/PageTitle';\nimport moment from \"moment\";\n\nvar AllNotifications = function AllNotifications() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      notifs = _useState2[0],\n      setNotifs = _useState2[1];\n\n  var getNotifications = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return api.get('/notification/all-notifications').then(function (response) {\n                var notifications = response.data.notifications;\n                setNotifs(notifications);\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getNotifications() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    getNotifications();\n  }, []);\n\n  var markAsRead = function markAsRead(itemUid) {\n    var notification_uid = itemUid;\n    api.post('/notification/viewed', {\n      notification_uid: notification_uid\n    }).then(function (response) {\n      if (response.data.type === \"success\") {\n        getNotifications();\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var markAsNotRead = function markAsNotRead(itemUid) {\n    var notification_uid = itemUid;\n    api.post('/notification/not-viewed', {\n      notification_uid: notification_uid\n    }).then(function (response) {\n      if (response.data.type === \"success\") {\n        getNotifications();\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    className: \"main-content-container p-4 \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"page-header py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"page-title\",\n    style: {\n      padding: 2\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, \"My Notifications\"), \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    style: {\n      fontSize: 25\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 97\n    }\n  }, \"\\uE7F4\"))), notifs && notifs.map(function (notif) {\n    var dateTime = notif.created_at;\n    var dateNotif = moment(dateTime).format('MMMM Do YYYY');\n    return /*#__PURE__*/React.createElement(Row, {\n      className: \"\".concat(notif.is_view == 0 ? 'font-weight-bold bg-white my-2 p-2 notif ' : 'bg-white my-2 p-2 notif '),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: \"12\",\n      md: \"12\",\n      sm: \"12\",\n      className: \"d-flex flex-column align-items-start\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center border-bottom w-100\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 41\n      }\n    }, notif.object), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 41\n      }\n    }, dateNotif), notif.is_view == 0 ? /*#__PURE__*/React.createElement(\"i\", {\n      title: \"Marquer comme lu\",\n      onClick: function onClick() {\n        return markAsRead(notif.uid);\n      },\n      className: \"material-icons\",\n      style: {\n        fontSize: 16,\n        cursor: 'pointer'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 49\n      }\n    }, \"\\uF18A\") : /*#__PURE__*/React.createElement(\"i\", {\n      title: \"Marquer comme non lu\",\n      onClick: function onClick() {\n        return markAsNotRead(notif.uid);\n      },\n      className: \"material-icons\",\n      style: {\n        fontSize: 16,\n        cursor: 'pointer'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 49\n      }\n    }, \"\\uF18C\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center m-2 \",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"d-flex mr-2 flex-column justify-content-between\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      style: {\n        fontSize: 25,\n        border: \"1px solid gray \",\n        borderRadius: 50,\n        padding: \"4px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 45\n      }\n    }, \"\\uE645\")), /*#__PURE__*/React.createElement(React.Fragment, null, notif.description, \" \"))));\n  })));\n};\n\nexport default AllNotifications;","map":{"version":3,"names":["React","useState","useEffect","Button","ButtonGroup","Modal","ModalBody","ModalHeader","Row","Col","FormInput","FormGroup","Form","Container","Card","api","PageTitle","moment","AllNotifications","notifs","setNotifs","getNotifications","get","then","response","notifications","data","catch","err","console","log","markAsRead","itemUid","notification_uid","post","type","markAsNotRead","padding","fontSize","map","notif","dateTime","created_at","dateNotif","format","is_view","object","uid","cursor","border","borderRadius","description"],"sources":["C:/professional/2K Media/II.develepment/smart farm/backoffice v2/frontend/src/views/AllNotifications.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Button, ButtonGroup, Modal, ModalBody, ModalHeader, Row, Col, FormInput, FormGroup, Form, Container, Card } from 'shards-react'\nimport api from '../api/api'\nimport PageTitle from '../components/common/PageTitle'\nimport moment from \"moment\";\n\nconst AllNotifications = () => {\n\n    const [notifs, setNotifs] = useState([])\n\n    const getNotifications = async () => {\n        await api.get('/notification/all-notifications')\n            .then(response => {\n                let notifications = response.data.notifications\n                setNotifs(notifications)\n            }).catch(err => {\n                console.log(err)\n            })\n    }\n\n    useEffect(() => {\n        getNotifications()\n    }, [])\n\n\n    const markAsRead = (itemUid) => {\n        let notification_uid = itemUid\n\n        api.post('/notification/viewed', { notification_uid })\n            .then(response => {\n                if (response.data.type === \"success\") {\n                    getNotifications()\n\n                }\n            }).catch(err => {\n                console.log(err)\n            })\n    }\n\n    const markAsNotRead = (itemUid) => {\n        let notification_uid = itemUid\n\n        api.post('/notification/not-viewed', { notification_uid })\n            .then(response => {\n                if (response.data.type === \"success\") {\n                    getNotifications()\n\n                }\n            }).catch(err => {\n                console.log(err)\n            })\n    }\n    return (\n        <>\n            <Container fluid className=\"main-content-container p-4 \">\n                <Row className='page-header py-4'>\n                    {/* <PageTitle title='My Notifications ' /> */}\n                    <div className='d-flex align-items-center'>\n\n                        <h2 className='page-title' style={{ padding: 2 }}>My Notifications</h2> <i className=\"material-icons\" style={{ fontSize: 25 }}>&#xE7F4;</i>\n                    </div>\n\n                </Row>\n                {\n                   notifs && notifs.map(notif => {\n                    let dateTime = notif.created_at\n                    let dateNotif  = moment(dateTime).format('MMMM Do YYYY')\n\n                        return (\n                            <Row  className={`${notif.is_view == 0 ? 'font-weight-bold bg-white my-2 p-2 notif ' : 'bg-white my-2 p-2 notif '}`}>\n                                <Col lg='12' md='12' sm='12' className=\"d-flex flex-column align-items-start\">\n                                    <div className='d-flex justify-content-between align-items-center border-bottom w-100'>\n                                        <h6>{notif.object}</h6>\n                                        <h6>{dateNotif}</h6>                                       \n                                         {\n                                            notif.is_view == 0\n                                                ?\n                                                <i title='Marquer comme lu' onClick={() => markAsRead(notif.uid)} className=\"material-icons\" style={{ fontSize: 16, cursor: 'pointer' }}>&#xf18a;</i>\n                                                :\n                                                <i title='Marquer comme non lu' onClick={() => markAsNotRead(notif.uid)} className=\"material-icons\" style={{ fontSize: 16, cursor: 'pointer' }}>&#xf18c;</i>\n\n\n                                        }\n                                    </div>\n                                    <div className=\"d-flex justify-content-between align-items-center m-2 \">\n                                        <span className=\"d-flex mr-2 flex-column justify-content-between\">\n                                            <i className=\"material-icons\" style={{ fontSize: 25, border: \"1px solid gray \", borderRadius: 50, padding: \"4px\" }}>&#xe645;</i>\n                                        </span>\n                                        <>{notif.description} </>\n\n                                    </div>\n\n                                </Col>\n                            </Row>\n\n                        )\n                    })\n                }\n\n                {/* <Row>\n                            <Col className=\"border-left\">\n                                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Debitis atque nobis nisi deserunt sequi laborum nihil obcaecati fugiat accusantium, molestiae aliquam, ab rem officiis. Iste, repellendus magnam! Fugit, obcaecati laboriosam?\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col className=\"border-left\">\n                                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Debitis atque nobis nisi deserunt sequi laborum nihil obcaecati fugiat accusantium, molestiae aliquam, ab rem officiis. Iste, repellendus magnam! Fugit, obcaecati laboriosam?\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col className=\"border-left\">\n                                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Debitis atque nobis nisi deserunt sequi laborum nihil obcaecati fugiat accusantium, molestiae aliquam, ab rem officiis. Iste, repellendus magnam! Fugit, obcaecati laboriosam?\n                            </Col>\n                        </Row> */}\n\n\n            </Container>\n        </>\n    )\n}\n\nexport default AllNotifications"],"mappings":"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"},"metadata":{},"sourceType":"module"}