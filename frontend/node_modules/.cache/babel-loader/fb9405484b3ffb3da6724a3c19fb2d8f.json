{"ast":null,"code":"import _toConsumableArray from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/var/www/prod/smartfarm/backoffice/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/var/www/prod/smartfarm/backoffice/frontend/src/components/blog/TempChart.js\";\n\nimport moment from 'moment';\nimport React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { useHistory } from 'react-router-dom';\nimport { Row, Col, Card, CardHeader, CardBody, Button } from \"shards-react\";\n\nvar TempChart = function TempChart(_ref) {\n  var data = _ref.data,\n      title = _ref.title;\n  var history = useHistory();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var getChartData = function getChartData() {\n    var labels = [];\n    var dataTemp = [];\n    data.map(function (sensorData) {\n      var date = sensorData.time;\n      dataTemp.push(parseFloat(sensorData.temperature).toFixed(2));\n      labels.push(moment(date.slice(0, 10)).format('DD-MM-YYYY'));\n      labels = _toConsumableArray(new Set(labels));\n    });\n    var state = {\n      labels: labels,\n      datasets: [{\n        label: 'Temperature',\n        lineTension: 0.5,\n        borderWidth: 2,\n        data: dataTemp,\n        fill: true,\n        backgroundColor: \"rgba(75,192,192,0.2)\",\n        borderColor: \"rgba(75,192,192,1)\"\n      }]\n    };\n    setState(state);\n  };\n\n  useEffect(function () {\n    getChartData();\n  }, [data]);\n\n  var goToSelctedChart = function goToSelctedChart(title) {\n    history.push(\"/Graphs/\".concat(title));\n    window.location.reload();\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"h-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"border-bottom d-flex justify-content-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, title, /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      return goToSelctedChart(title);\n    },\n    squared: true,\n    theme: \"light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"24\",\n    width: \"24\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.075 21.2Q4.125 21.2 3.463 20.538Q2.8 19.875 2.8 18.925V5.075Q2.8 4.125 3.463 3.462Q4.125 2.8 5.075 2.8H12V5.075H5.075Q5.075 5.075 5.075 5.075Q5.075 5.075 5.075 5.075V18.925Q5.075 18.925 5.075 18.925Q5.075 18.925 5.075 18.925H18.925Q18.925 18.925 18.925 18.925Q18.925 18.925 18.925 18.925V12H21.2V18.925Q21.2 19.875 20.538 20.538Q19.875 21.2 18.925 21.2ZM9.875 15.7 8.3 14.125 17.35 5.075H14V2.8H21.2V10H18.925V6.65Z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 76\n    }\n  })))), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    data: state,\n    options: {\n      title: {\n        display: true,\n        text: 'Temperature C°',\n        fontSize: 15\n      },\n      legend: {\n        display: true,\n        position: 'bottom'\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  })));\n};\n\nexport default TempChart;","map":{"version":3,"names":["moment","React","useState","useEffect","Line","useHistory","Row","Col","Card","CardHeader","CardBody","Button","TempChart","data","title","history","state","setState","getChartData","labels","dataTemp","map","sensorData","date","time","push","parseFloat","temperature","toFixed","slice","format","Set","datasets","label","lineTension","borderWidth","fill","backgroundColor","borderColor","goToSelctedChart","window","location","reload","display","text","fontSize","legend","position"],"sources":["/var/www/prod/smartfarm/backoffice/frontend/src/components/blog/TempChart.js"],"sourcesContent":["import moment from 'moment';\nimport React , {useState,useEffect}from 'react'\nimport { Line } from  'react-chartjs-2';\nimport { useHistory } from 'react-router-dom';\nimport { Row, Col, Card, CardHeader, CardBody, Button } from \"shards-react\";\n\n\nconst TempChart = ({data,title}) => {\n\n    const history = useHistory()\n\n    const [state,setState] = useState(null)\n \n    const getChartData = () => {\n    \n        let labels = []   \n        let dataTemp = []\n            data.map(sensorData=>{\n                let date =sensorData.time\n                dataTemp.push(parseFloat(sensorData.temperature).toFixed(2))\n                labels.push(moment(date.slice(0,10)).format('DD-MM-YYYY'))\n                labels = ([...new Set(labels)])\n            })\n            \n\n        const state = {\n            labels: labels,\n            datasets: [\n              {\n                label: 'Temperature',\n                lineTension: 0.5,\n                borderWidth: 2,\n                data: dataTemp,\n                fill: true,\n                backgroundColor: \"rgba(75,192,192,0.2)\",\n                borderColor: \"rgba(75,192,192,1)\"\n              }\n            ]\n          }\n          setState(state)\n    }\n\n    useEffect(()=>{\n        getChartData()\n    },[data])\n   const goToSelctedChart = (title) => {\n        history.push(`/Graphs/${title}`);\n        window.location.reload();\n      }\n\n    return (\n        <Card className=\"h-100\">\n        <CardHeader className=\"border-bottom d-flex justify-content-between\">\n            {title}\n          <Button onClick={() => goToSelctedChart(title)} squared theme=\"light\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" width=\"24\"><path d=\"M5.075 21.2Q4.125 21.2 3.463 20.538Q2.8 19.875 2.8 18.925V5.075Q2.8 4.125 3.463 3.462Q4.125 2.8 5.075 2.8H12V5.075H5.075Q5.075 5.075 5.075 5.075Q5.075 5.075 5.075 5.075V18.925Q5.075 18.925 5.075 18.925Q5.075 18.925 5.075 18.925H18.925Q18.925 18.925 18.925 18.925Q18.925 18.925 18.925 18.925V12H21.2V18.925Q21.2 19.875 20.538 20.538Q19.875 21.2 18.925 21.2ZM9.875 15.7 8.3 14.125 17.35 5.075H14V2.8H21.2V10H18.925V6.65Z\" /></svg>\n          </Button>\n        </CardHeader>\n        <CardBody>\n      <Line\n      data={state}\n          options={{\n            title:{\n              display:true,\n              text:'Temperature C°',\n              fontSize:15\n            },\n            legend:{\n              display:true,\n              position:'bottom'\n            }\n          }}\n      />\n  </CardBody>\n      </Card>\n  );\n}\n\nexport default TempChart"],"mappings":"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"},"metadata":{},"sourceType":"module"}